function parallax(param){function layer(jQuerysrc,prnt){var hasParalaxBackgroundClass=jQuerysrc.hasClass(paralaxBackgroundClass);this.jQuerysrc=jQuerysrc,this.prnt=prnt,this.spd=+jQuerysrc.attr("alt"),hasParalaxBackgroundClass&&jQuerysrc.css("min-height","100%");var halfWindowWidth,halfParentWidth,preCalculatedPosition,halfWidth,isSmallAndSlow,relRightBorder,slowness=1-this.spd,extraSpeed=this.spd-1,hasOverflowMarker=jQuerysrc.hasClass(overflowsParentClass),relLeftBorder=0;return layerAnimationType==animationTypes.CSS3_EASED&&CSS3setupAdjust(layerShiftProperty,this.jQuerysrc),this.applyWindowSize=function(){if(hasParalaxBackgroundClass){paraSample.applyHorizontalShift("",jQuerysrc),jQuerysrc.css({width:""});var usingOpera=navigator.userAgent.indexOf("Opera")>-1;usingOpera||jQuerysrc.css({position:""})}else jQuerysrc.attr("style","");if(halfWindowWidth=windowWidth/2,halfParentWidth=this.prnt.width/2,hasParalaxBackgroundClass){this.width=jQuerysrc.width();var minWidth=this.spd*(this.prnt.prnt.width-windowWidth)+windowWidth;this.width<minWidth&&(this.width=minWidth,jQuerysrc.width(this.width))}else jQuerysrc.css("position","absolute"),this.width=jQuerysrc.width(),jQuerysrc.css("position","");halfWidth=this.width/2,relRightBorder=prnt.width-this.width,isSmallAndSlow=this.spd<=1&&this.width<this.prnt.width,this.overflowsParent=hasOverflowMarker||hasParalaxBackgroundClass||!isSmallAndSlow,this.jQuerysrc.css("left","");var cssLeft=jQuerysrc.css("left");jQuerysrc.css({display:"inline-block",overflow:"visible",position:"absolute"}),"auto"==cssLeft?this.left=halfParentWidth-halfWidth:this.left=parseInt(cssLeft,10),layerShiftProperty!==shiftPropertyTypes.LEFT&&this.jQuerysrc.css("left","0px"),preCalculatedPosition=0===this.spd?halfWindowWidth-halfWidth:this.spd>0&&this.spd<1?(halfWindowWidth-halfWidth)*(1-this.spd)+this.left*this.spd:this.left},this.parallaxLeft=function(inScroll){return 0==this.spd?this.currentLeft=preCalculatedPosition+inScroll:this.spd>0&&this.spd<1?this.currentLeft=preCalculatedPosition+inScroll*slowness:this.currentLeft=preCalculatedPosition-inScroll*extraSpeed,this.currentLeft},this.adjust=function(inScroll){var left=this.parallaxLeft(inScroll);if(!this.overflowsParent){var leftBorder=relLeftBorder,rightBorder=relRightBorder;leftBorder>left?left=leftBorder:left>rightBorder&&(left=rightBorder)}layerAnimationType==animationTypes.CSS3_EASED||layerAnimationType==animationTypes.NONE?paraSample.applyHorizontalShift(left,this.jQuerysrc,layerShiftProperty):layerAnimationType==animationTypes.JQ_EASED&&jqueryAnimateShift(this.jQuerysrc,left)},this}function slide(jQuerysrc,masterSlide,prnt){this.masterSlide=masterSlide,this.layers=[],this.jQuerysrc=jQuerysrc,this.initialLeft=0,this.left=0,this.width=0,this.jQueryaxis={},this.prnt=prnt;var windowWidth_cache,children=this.jQuerysrc.children();this.childrenVisible=!0,this.adjust=function(){this.left=this.initialLeft-this.prnt.jQuerysrc.scroll;var right=this.left+this.width,toTheLeftOfScreen=this.left<0&&0>right,toTheRightOfScreen=this.left>windowWidth_cache&&right>windowWidth_cache;if(!toTheLeftOfScreen&&!toTheRightOfScreen||param.noSlideHideOptimization){this.childrenVisible||(children.show(),this.childrenVisible=!0);for(var scrollPosition=-this.left,i=0,l=this.layers[0],len=this.layers.length;len>i;i++,l=this.layers[i])l.adjust(scrollPosition)}else this.childrenVisible&&(children.hide(),this.childrenVisible=!1)};var slide=this;return this.applyWindowSize=function(){windowWidth_cache=windowWidth,this.jQuerysrc.css("display",""),masterSlide?(this.width=this.prnt.width,this.initialLeft=0):(this.width=windowWidth,this.initialLeft=this.prnt.width,this.jQuerysrc.css("width",this.width))},this.applyWindowSize(),this.applyWindowSizeToChildren=function(){children.show();for(var i=0,j=slide.layers.length;j>i;i++)slide.layers[i].applyWindowSize()},this.initChildren=function(){var layerChildren;layerChildren=masterSlide?this.jQuerysrc.children("[alt]"):jQuery("*[alt]",this.jQuerysrc),children.show(),layerChildren.each(function(){var jQuerylayer=jQuery(this);if("1"==jQuerylayer.attr("alt"))jQuerylayer.css({position:"absolute"}),slide.jQueryaxis=jQuerylayer;else{var wrapped=new layer(jQuerylayer,slide);slide.layers.push(wrapped)}})},this.initChildren(),this}function init(){slides.jQuerysrc=jQuery("#"+parallaxID),slides.jQuerysrc.scroll=0,scrollbarFullyRemoved?jQuery("html").css("overflow","hidden"):jQuery("html").css({"overflow-x":"scroll","overflow-y":"hidden"}),slides.jQuerysrc.children("div").css({height:"100%",position:"relative","float":"left"}),slides.jQuerysrc.css({width:"100%",height:"100%","overflow-x":"visible",position:"fixed"}),parallaxLeftAnimationType===animationTypes.CSS3_EASED&&CSS3setupAdjust(parallaxShiftProperty,slides.jQuerysrc),initSlides(),applyWindowSize(),applyWindowSizeToParallaxLayers(),refreshSlides(),jQuery("."+paralaxBackgroundClass).css("z-index","auto"),slides.jQuerysrc.trigger("init")}function initSlides(){slides.array=[],slides.jQuerysrc.find("> div").each(function(){var jQueryslide=jQuery(this);if(!jQueryslide.attr("alt")){var p=new slide(jQueryslide,!1,slides);slides.array.push(p)}}),para_cached.slidesCount=slides.array.length;var p=new slide(slides.jQuerysrc,!0,slides);slides.array.push(p)}function applyWindowSize(){windowWidth=jQuery(window).innerWidth(),slides.singleSlideWidth=windowWidth,scroll.minimalStep=windowWidth/1e3/15,slides.width=0;for(var i=0,l=slides.array.length;l>i;i++){var s=slides.array[i];s.applyWindowSize(),s.masterSlide||(slides.width+=s.width)}slides.jQuerysrc.width(slides.width),scroll.maxLimit=slides.width-windowWidth,initScrollbar()}function applyWindowSizeToParallaxLayers(){for(var i=0,s=slides.array[i];i<slides.array.length;i++,s=slides.array[i])s.applyWindowSizeToChildren();slides.jQuerysrc.trigger("engineRebuild",slides.jQuerysrc.scroll)}function stepF(){stepToBe=(scroll.cur-slides.jQuerysrc.scroll)/15,Math.abs(stepToBe)>scroll.minimalStep?(slides.jQuerysrc.scroll+=stepToBe,refreshSlidesAndFireListeners()):scroll.doingNextMove&&(scroll.doingNextMove=!1,slides.jQuerysrc.trigger("finishedMove",slides.jQuerysrc.scroll),slides.jQuerysrc.removeClass("disable-hover"))}function straightScroll(){slides.jQuerysrc.scroll=scroll.cur,refreshSlidesAndFireListeners(),straightScrollSwitch=!1}function trackSlideChange(){if(rawScroll=scroll.cur/slides.singleSlideWidth,"onBorder"==slideChangeModel){for(;lastSlideI-.5>=rawScroll;)para.currentSlideI--,lastSlideI=para.currentSlideI;for(;rawScroll>=lastSlideI+.5;)para.currentSlideI++,lastSlideI=para.currentSlideI}else{for(;lastSlideI-1>=rawScroll;)para.currentSlideI--,lastSlideI=para.currentSlideI;for(;rawScroll>=lastSlideI+1;)para.currentSlideI++,lastSlideI=para.currentSlideI}}function getScrollPositionAndAnimateEverything(){var animationType=para.isWheel?scrollWheelValueAnimationType:scrollValueAnimationType;scroll.cur=scroll.get(),scroll.delta=Math.abs(slides.jQuerysrc.scroll-scroll.cur),scroll.doingNextMove=!0,slides.jQuerysrc.trigger("startedMove",slides.jQuerysrc.scroll),slides.jQuerysrc.addClass("disable-hover"),straightScrollSwitch?straightScroll():animationType==animationTypes.EASED?intervalID||(intervalID=setInterval(stepF,17)):animationType==animationTypes.SUPER_EASED?(clearInterval(intervalID),intervalID=null,scroll.delta>70?(scroll.firstStep=!0,slides.jQuerysrc.stop(!0,!1).animate({scroll:scroll.cur},{step:function(now,fx){return scroll.firstStep?(fx.start=slides.jQuerysrc.scroll,void(scroll.firstStep=!1)):(refreshSlidesAndFireListeners(),void(slides.jQuerysrc.scroll=now))},complete:function(){slides.jQuerysrc.trigger("finishedMove",slides.jQuerysrc.scroll),slides.jQuerysrc.removeClass("disable-hover")},duration:scrollAnimationDuration,easing:scrollEasing})):(slides.jQuerysrc.stop(!0,!1),slides.jQuerysrc.scroll=scroll.cur,refreshSlidesAndFireListeners())):animationType==animationTypes.JQ_EASED?slides.jQuerysrc.stop().animate({scroll:scroll.cur},{step:function(now,fx){slides.jQuerysrc.scroll=now,refreshSlidesAndFireListeners()},duration:scrollAnimationDuration,easing:scrollEasing}):straightScroll(),trackSlideChange(),para.isWheel=!1,console.log(scrollAnimationDuration)}function refreshSlidesAndFireListeners(){refreshSlides(),slides.jQuerysrc.trigger("scrollChange",slides.jQuerysrc.scroll)}function refreshSlides(){parallaxLeftAnimationType==animationTypes.CSS3_EASED||parallaxLeftAnimationType==animationTypes.NONE?paraSample.applyHorizontalShift(-slides.jQuerysrc.scroll,slides.jQuerysrc,parallaxShiftProperty):parallaxLeftAnimationType==animationTypes.JQ_EASED&&jqueryAnimateShift(slides.jQuerysrc,-slides.jQuerysrc.scroll);for(var i=0,s=slides.array[0],len=slides.array.length;len>i;i++,s=slides.array[i])s.adjust()}function initScrollbar(){var firstInit=scroll.jQuerysrc?!1:!0;if(firstInit?startWindowWidth=windowWidth:scroll.jQuerysrc.remove(),param.touchNotScrollMode){var dummy=jQuery("<div/>").css({position:"absolute",display:"hidden"});firstInit&&jQuery("body").append(dummy),scroll.jQuerysrc=jQuery("<div/>").css({width:slides.width});var touchStart=0;time={start:0,end:0};var delta,speed={cur:0,max:15,min:.1};firstInit&&(slides.jQuerysrc[0].addEventListener("touchmove",function(e){if(!(e.touches.length>1)){e.preventDefault(),time.end=(new Date).getTime();{time.end-time.start}delta=e.touches[0].screenX-touchStart,speed.cur=delta*delta/15*(0>delta?-1:1),scroll.add(-speed.cur),touchStart=e.touches[0].screenX,time.start=time.end}}),slides.jQuerysrc[0].addEventListener("touchstart",function(e){time.start=(new Date).getTime(),touchStart=e.touches[0].screenX,scroll.stop()}));var maxScroll=slides.width-windowWidth,minScroll=0;scroll.add=function(delta){scroll.cur+delta>maxScroll?scroll.cur=maxScroll:scroll.cur+delta<minScroll?scroll.cur=minScroll:scroll.cur+=delta,getScrollPositionAndAnimateEverything()},scroll.stop=function(){scroll.cur=slides.jQuerysrc.scroll},scroll.get=function(){return scroll.cur}}else{var scrollTarget;scrollbarFullyRemoved||(scroll.jQuerysrc=jQuery("<div/>").css({width:slides.width,height:"1px"}),jQuery("body").append(scroll.jQuerysrc),scrollTarget=window),scroll.get=function(){return scrollbarFullyRemoved?scroll.cur:jQuery(scrollTarget).scrollLeft()},scroll.add=function(delta){if(scrollbarFullyRemoved){var newScroll=scroll.cur+delta;return 0>newScroll?newScroll=0:newScroll>scroll.maxLimit&&(newScroll=scroll.maxLimit),scroll.cur=newScroll,void getScrollPositionAndAnimateEverything()}jQuery(scrollTarget).scrollLeft(jQuery(scrollTarget).scrollLeft()+delta)},firstInit&&!scrollbarFullyRemoved&&jQuery(scrollTarget).on("scroll",getScrollPositionAndAnimateEverything)}para_cached.add=scroll.add,para_cached.width=slides.width}function closerGeneric(left){var cur=scroll.get(),roun=left?Math.floor:Math.ceil,dest=(cur/slides.singleSlideWidth,roun(cur/slides.singleSlideWidth));cur%slides.singleSlideWidth===0&&(dest+=left?-1:1),dest*=slides.singleSlideWidth,para_cached.to(dest)}function CSS3setupAdjust(shiftProperty,jQuerydiv){var transiTrailer=scrollAnimationDuration+"ms ease-in-out 1ms";shiftProperty==shiftPropertyTypes.LEFT?transi="left "+transiTrailer:(shiftProperty==shiftPropertyTypes.TRANSLATE||shiftProperty==shiftPropertyTypes.TRANSLATEX||shiftProperty==shiftPropertyTypes.TRANSLATE3D)&&(transi="-webkit-transform "+transiTrailer),jQuerydiv.css({WebkitTransition:transi,MozTransition:transi,OTransition:transi,msTransition:transi,transition:transi})}function jqueryAnimateShift(jQuerydiv,value){jQuerydiv.stop(!1).animate({left:value+"px"},scrollAnimationDuration,scrollEasing)}var windowWidth,parallaxID="parallax",overflowsParentClass="overflowsSlide",paralaxBackgroundClass="parallaxBackground",scrollbarFullyRemoved=param.removeScrollbar,animationTypes={NONE:0,JQ_EASED:1,CSS3_EASED:2,SUPER_EASED:3,EASED:4},shiftPropertyTypes={LEFT:"left",TRANSLATEX:"translateX",TRANSLATE:"translate",TRANSLATE3D:"translate3d"},layerAnimationType=animationTypes.NONE,scrollWheelValueAnimationType=animationTypes.EASED,scrollValueAnimationType=animationTypes.SUPER_EASED,parallaxLeftAnimationType=animationTypes.NONE,layerShiftProperty=param.layerShiftProperty||"left",parallaxShiftProperty=param.parallaxShiftProperty||"left",scrollEasing="easeInOutSine",scrollAnimationDuration=3500,para_cached=this,slides={jQuerysrc:void 0,array:[],singleSlideWidth:0},scroll={add:function(){},get:function(){},delta:0,cur:0,previous:0,maxLimit:0,firstStep:0,jQuerysrc:void 0,startWindowWidth:0,resizeModifier:1,minimalStep:0};para_cached.scroll=scroll,this.currentSlideI=0,this.mouseWheelTarget=jQuery("#parallax"),this.findLayerWrapper=function(src){for(var i=0,s=slides.array[0];i<slides.array.length;i++,s=slides.array[i])for(var j=0,l=s.layers[0];j<s.layers.length;j++,l=s.layers[j])if(src==l.jQuerysrc[0])return l};var slideChangeModel="onBorder";this.init=init;var intervalID,stepToBe,straightScrollSwitch=!1,lastSlideI=0,rawScroll=0;this.toSlide=function(index){index>-1&&index<slides.array.length&&this.to(windowWidth*index)},this.to=function(value){scroll.add(value-scroll.get())},this.closerLeft=function(){closerGeneric(!0)},this.closerRight=function(){closerGeneric(!1)},this.setDuration=function(value){scrollAnimationDuration=value};var absScroll,relativeScroll;this.onResizeSlides=function(){absScroll=scroll.get(),relativeScroll=absScroll/windowWidth,applyWindowSize()},this.onResizeLayers=function(){applyWindowSizeToParallaxLayers(),refreshSlidesAndFireListeners();var newScroll=relativeScroll*windowWidth;straightScrollSwitch=!0,scroll.add(newScroll-scroll.get())}}function adjustFontSize(){var diminishing={w:window.innerWidth/resizeables.reference.w,h:window.innerHeight/resizeables.reference.h};jQuery("body").css("font-size",baseFontSize*Math.min(diminishing.w,diminishing.h))}function wheelStep(windowWidth){var deno=paraSample.settings.mousewheelSlowness.windows;return utilLib.deviceDescription.os==utilLib.OS_TYPES.mac&&(deno=paraSample.settings.mousewheelSlowness.mac),windowWidth/deno}function onMouseWheel(event,delta){para.isWheel=!0,para.add(-delta*wheelstep),event.preventDefault(),event.stopPropagation()}function scrollParallax(e){jQuery("#parallax").length<=0&&jQuery(document).off(scrollParallax),"37"==e.keyCode?(para.closerLeft(),e.preventDefault()):("39"==e.keyCode||"32"==e.keyCode)&&(para.closerRight(),e.preventDefault())}function onResize(){para.onResizeSlides(),nonParaResize(),para.onResizeLayers()}function nonParaResize(){windowWidth=jQuery(window).innerWidth(),windowHeight=jQuery(window).innerHeight(),windowAspect=windowWidth/windowHeight,wheelstep=wheelStep(windowWidth),adjustFontSize(),resizeables.adjust()}function changeMenuTitle(hashName){var menuTitle=document.getElementById("menu-title");switch(hashName){case"":menuName="About";break;case"team":menuName="Team";break;case"offices":menuName="Offices";break;default:menuName=""}menuTitle.innerHTML=menuName}function startAllParaSystems(){function onPreloaderLoad(){Modernizr.history&&jQuery("a").on("click",function(args){var href=jQuery(this).attr("href");""!=href&&"#"!=href&&window.history.pushState({mediaIsLoaded:"true"},"mediaIsLoaded")}),resizeables.initFromDescript(aRCDescript),nonParaResize(),parallax&&para.init()}Modernizr.history&&window.history.state&&window.history.state.mediaIsLoaded&&(utilLib.debLog("All media is cached. Skipping preloader"),paraSample.preloaderEnabled=!1),debugging=self.location.toString().indexOf("xe")>-1;var parallaxParams={removeScrollbar:paraSample.settings.removeScrollbar,touchNotScrollMode:paraSample.settings.touchNotScrollMode};Modernizr.csstransforms3d&&(parallaxParams.layerShiftProperty="translate3d",parallaxParams.parallaxShiftProperty="translate3d"),para=new parallax(parallaxParams),baseFontSize=parseInt(jQuery("body").css("font-size")),hiddenImagesContainer=jQuery(".preloadedImages"),jQuery("#parallax").on("init",function(){para.mouseWheelTarget.bind("mousewheel",onMouseWheel),jQuery(window).on("resize",onResize),hashProcessingSystem.addrMap=jQuery("#parallax>div").map(function(i){return 0==i?"":jQuery(this).attr("id")}),jQuery("#parallax").hasClass("ignore-hashtag")&&(hashProcessingSystem.doNotApplyHashFromAddressLine=!0),hashProcessingSystem.applyHashFromAddressLine(),preloader.disable()}),jQuery("#parallax").hasClass("ignore-hashtag")||jQuery("#parallax").on("scrollChange",function(amount){hashProcessingSystem.trackHashChange()}),paraSample.preloaderEnabled?preloader.onLoad=onPreloaderLoad:(preloader.init(),onPreloaderLoad()),paraSample.preloaderEnabled&&preloader.start()}function createLayers(){for(var i=0;10>i;i++){var layer=jQuery("<div class='fastLayer'><div><div></div></div></div>");layer.css({left:1750*Math.random()-350,top:860*Math.random()-200});var q=Math.random();layer.find(">div").attr({alt:6*q+1});var size=270*q+30;layer.find(">div>div").css({width:size,height:size,"border-radius":size,"-webkit-filter":"blur("+15*q+"px)",background:"rgba(255, 255, 255, .3)"}),jQuery("#more .popularResolution").append(layer);var animatedCopy=layer.clone();jQuery("#animated .popularResolution").append(animatedCopy),function(animatedCopy){var paused=!0,progress=0,initialPosition=animatedCopy.position(),speedKoeff=Math.random(),initialPhase=Math.random()*Math.PI*2,amplitude=100*Math.random()+100;setInterval(function(){if(!paused){var angle=progress*speedKoeff+initialPhase;animatedCopy.css("left",initialPosition.left+Math.sin(angle)*amplitude),animatedCopy.css("top",initialPosition.top+Math.cos(angle)*amplitude),progress+=.1}},17),animatedCopy.data({resume:function(){paused=!1},pause:function(){paused=!0}})}(animatedCopy)}}var paraSample={},utilLib={},windowWidth,windowHeight,windowAspect,baseFontSize,para,wheelstep,aRCDescript,hiddenImagesContainer,iPadMode=navigator.userAgent.match(/iP/i),supportsTouchEvents="ontouchstart"in document.documentElement||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|ZuneWP7/i.test(navigator.userAgent);!function(nmspc){var alertFallback=!1;("undefined"==typeof console||"undefined"==typeof console.log)&&(alert("oh no"),console={},alertFallback?console.log=function(msg){alert(msg)}:console.log=function(){}),nmspc.DEVICE_TYPES={iPad:"iPad",iPhone:"iPhone",android:"android",desktop:"desktop",wPhone:"wPhone"},nmspc.BROWSERS={safari:"Safari",chrome:"Chrome"},nmspc.OS_TYPES={mac:"Mac OS",win:"Windows"},nmspc.deviceDescription={type:void 0,browser:void 0,touchCapable:!1},nmspc.deviceDescription.type=nmspc.DEVICE_TYPES.desktop,navigator.userAgent.indexOf("iPad")>-1?nmspc.deviceDescription.type=nmspc.DEVICE_TYPES.iPad:navigator.userAgent.indexOf("iPhone")>-1?nmspc.deviceDescription.type=nmspc.DEVICE_TYPES.iPhone:navigator.userAgent.indexOf("Android")>-1?nmspc.deviceDescription.type=nmspc.DEVICE_TYPES.android:navigator.userAgent.indexOf("Windows Phone")>-1&&(nmspc.deviceDescription.type=nmspc.DEVICE_TYPES.wPhone),navigator.userAgent.indexOf("Chrome")>-1?nmspc.deviceDescription.browser=nmspc.BROWSERS.chrome:navigator.userAgent.indexOf("Safari")>-1&&(nmspc.deviceDescription.browser=nmspc.BROWSERS.safari),nmspc.deviceDescription.os=void 0,navigator.userAgent.indexOf("Mac OS")>-1?nmspc.deviceDescription.os=nmspc.OS_TYPES.mac:navigator.userAgent.indexOf("Windows")>-1&&(nmspc.deviceDescription.os=nmspc.OS_TYPES.win),("object"==typeof Touch||"ontouchstart"in document.documentElement)&&(nmspc.deviceDescription.touchCapable=!0),nmspc.debu=window.location.href.indexOf("?debug")>-1;var jQuerydebWindow;nmspc.debLog=function(str){console.log(str),jQuerydebWindow&&jQuerydebWindow.prepend(jQuery("<p>"+str+"</p>"))},jQuery(function(){nmspc.debu&&(jQuerydebWindow=jQuery("<div></div>").css({position:"fixed",top:0,right:0,display:"inline-block",width:300,"min-height":100,font:"12px sans-serif",color:"rgba(255,255,255,.8)","background-color":"rgba(0,0,0,.5)","z-index":999,"max-height":"50%","overflow-y":"scroll"}),jQuery("body").append(jQuerydebWindow)),nmspc.debLog(nmspc.deviceDescription.type),nmspc.debLog("Standard-touch-capable: "+nmspc.deviceDescription.touchCapable)})}(utilLib),function(arg){if(window.Modernizr){window.Modernizr.csstransforms3d?paraSample.bestTranslateType="translate3d":window.Modernizr.csstransforms?paraSample.bestTranslateType="translate":paraSample.bestTranslateType="left";var transformString;arg.applyHorizontalShift=function(value,jQuerydiv,translateType){translateType=translateType||paraSample.bestTranslateType;var tag=jQuerydiv.get()[0].tagName;if(window.innerWidth<1900&&"img"==tag.toLowerCase()){var ratio=jQuerydiv.parent().parent()[0].dataset.ratio;ratio&&ratio>0&&(ratio=.5+(1-ratio))}if(""==value||"left"!=translateType){if(""==value)transformString="";else if("translate3d"===translateType)transformString="translate3d("+value+"px, 0px, 0px)";else if("translate"===translateType)transformString="translate("+value+"px, 0px)";else{if("translateX"!==translateType)return;transformString="translateX("+value+"px)"}jQuerydiv.css({WebkitTransform:transformString,MozTransform:transformString,Transform:transformString,msTransform:transformString,OTransform:transformString,transform:transformString})}(""==value||"left"==translateType)&&jQuerydiv.css("left",value)}}}(paraSample),paraSample.preloaderEnabled=!0,paraSample.settings={removeScrollbar:utilLib.deviceDescription.type!=utilLib.DEVICE_TYPES.wPhone,disableAutoHashChange:utilLib.deviceDescription.type==utilLib.DEVICE_TYPES.android,touchNotScrollMode:utilLib.deviceDescription.type!=utilLib.DEVICE_TYPES.desktop&&utilLib.deviceDescription.touchCapable,mousewheelSlowness:{windows:15,mac:60},pauseSideAnimationsWhenMoving:!0};var preloader={disable:void 0,start:void 0,onLoad:function(){},jQueryslide:void 0,visuals:void 0,fillVisuals:function(){},fillingTime:1400,delayBeforeLoadCheck:0,targetLogoWidth:0},loaderClass="loadBackground";preloader.fillVisuals=function(fillAmount,callback){callback||(callback=function(){}),jQuery(function(){preloader.visuals.loaded.animate({width:preloader.targetLogoWidth*fillAmount},{duration:preloader.fillingTime,queue:!1}),preloader.visuals.unloaded.animate({width:(1-fillAmount)*preloader.targetLogoWidth},{duration:preloader.fillingTime,queue:!1,complete:callback})})},preloader.disable=function(param){param&&param.rough?(jQuery("."+loaderClass).remove(),preloader.jQueryslide.remove()):jQuery("#parallax").hasClass("on-load")||(jQuery("."+loaderClass).delay(300).animate({opacity:0},preloader.fillingTime,function(){jQuery(this).remove()}),preloader.jQueryslide.animate({opacity:0},preloader.fillingTime,function(){jQuery(this).remove()})),jQuery(document.body).removeClass("unloaded")},jQuery(function(){return}),preloader.init=function(){preloader.visuals={loaded:jQuery(".preloaderCont .ending"),unloaded:jQuery(".preloaderCont .starting")},preloader.jQueryslide=jQuery(".preloaderCont"),preloader.targetLogoWidth=.9*jQuery(window).innerWidth()},preloader.start=function(){function getFilesToLoadCount(){var a=jQuerymedia.filter(function(){return this.src&&this.src.indexOf("svg")>-1?!1:void 0!==this.readyState&&this.readyState>=3?!1:this.complete?!1:!0});return a.length}function earlyCachedDetection(){var alreadyLoaded=getFilesToLoadCount();return 0===alreadyLoaded?(utilLib.debLog("No need to load."),preloader.onLoad(),void preloader.disable({rough:!0})):(preloader.visuals.loaded.add(preloader.visuals.unloaded).animate({opacity:1},300),void a())}function a(){var notLoaded=getFilesToLoadCount(),loadedPart=(mediaCount-notLoaded)/mediaCount;0===notLoaded?(utilLib.debLog("Finished loading"),preloader.fillVisuals(loadedPart,preloader.onLoad)):(setTimeout(a,1e3),utilLib.debLog("Still need to load "+notLoaded),preloader.fillVisuals(loadedPart))}preloader.init();{var jQuerymedia=jQuery("#parallax").find("img,video"),mediaCount=jQuerymedia.length;this.onContentLoad}preloader.visuals.loaded.add(preloader.visuals.unloaded).css("opacity",0);var jQuerysubCont=jQuery(".preloaderCont .subCont"),imageAspect=10.1;preloader.visuals.loaded.find("img").add(preloader.visuals.unloaded.find("img")).add(preloader.visuals.unloaded).css("width",preloader.targetLogoWidth),jQuerysubCont.add(preloader.visuals.loaded.find("img")).add(preloader.visuals.unloaded.find("img")).css("height",preloader.targetLogoWidth/imageAspect),setTimeout(earlyCachedDetection,preloader.delayBeforeLoadCheck)};var resizeables={engineCreator:void 0,engine:void 0,initFromDescript:function(d){resizeables.engine.getContainersFromDescript(d)},init:function(){resizeables.engine.findContainers()},adjust:function(){resizeables.engine.adjust()},fillModes:{FILL_PARENT:"fillParent",FIT_PARENT:"fitParent",FIT_PARENT_WIDTH:"fitParentWidth",NONE:"none"},orientations:{LANDSCAPE:"landscape",PORTRAIT:"portrait"},criticalReadabilityClass:"criticalReadability",minimalReadableFontSize:11};resizeables.reference={w:1280,h:923},resizeables.engineCreator=function(){function aRContainer(jQuerysrc,fillMode){return new aRContainerGeneric({jQuerysrc:jQuerysrc,fitting:fillMode})}function aRContainerGeneric(src){function updateOrientation(){currentOrientation=windowAspect>layoutSwitchThreshold?obj.orientations.LANDSCAPE:obj.orientations.PORTRAIT}var initialDim,initialDimRelative,aspect,baseFontSize,versionB,jQuerysrc=src.jQuerysrc,fitting=src.fitting,multiLayout=src.multiLayout;this.recollectMetrics=function(){fitting!=obj.fillModes.NONE&&jQuerysrc.css({width:"",height:"","font-size":""}),initialDim={w:jQuerysrc.outerWidth(!0),h:jQuerysrc.outerHeight(!0)},aspect=initialDim.w/initialDim.h,initialDimRelative={w:initialDim.w/resizeables.reference.w,h:initialDim.h/resizeables.reference.h},baseFontSize=parseInt(jQuerysrc.css("font-size"),10)},versionB=!0,versionB&&jQuerysrc.css("display","inline-block"),this.recollectMetrics(),criticalElements=jQuerysrc.find("."+obj.criticalReadabilityClass),this.parent=jQuerysrc.parent();var currentOrientation,lastOrientation="none",layoutSwitchThreshold=1;src.layoutSwitchThreshold&&(layoutSwitchThreshold=src.layoutSwitchThreshold),this.adjust=function(){if(multiLayout&&(updateOrientation(),currentOrientation!=lastOrientation&&(jQuerysrc.addClass(currentOrientation).removeClass(lastOrientation),this.recollectMetrics(),lastOrientation=currentOrientation)),fitting!=obj.fillModes.NONE){var anchorDim="w",complementDim="h";fitting===obj.fillModes.FILL_PARENT?aspect>windowAspect&&(anchorDim="h"):fitting===obj.fillModes.FIT_PARENT&&windowAspect>aspect&&(anchorDim="h"),"h"==anchorDim&&(complementDim="w");var fontSizeToBe,dimToBe={h:0,w:0},windowDim={h:windowHeight,w:windowWidth},marginNameTranslation={h:"margin-left",w:"margin-top"};if(dimToBe[anchorDim]=windowDim[anchorDim]*(fitting===obj.fillModes.FILL_PARENT||versionB?1:initialDimRelative[anchorDim]),dimToBe[complementDim]=dimToBe[anchorDim],"h"==complementDim?dimToBe[complementDim]/=aspect:dimToBe[complementDim]*=aspect,dimToBe[complementDim]>windowDim[complementDim]){var remargin=-(dimToBe[complementDim]-windowDim[complementDim])/2,complementMargin=marginNameTranslation[anchorDim],anchorMargin=marginNameTranslation[complementDim];jQuerysrc.css(anchorMargin,""),jQuerysrc.css(complementMargin,remargin)}fontSizeToBe=dimToBe.h/initialDim.h,jQuerysrc.width(dimToBe.w),jQuerysrc.height(dimToBe.h),fontSizeToBe*=baseFontSize,jQuerysrc.css("font-size",fontSizeToBe);for(var i=0,l=criticalElements.length;l>i;i++){jQueryce=jQuery(criticalElements[i]),jQueryce.css("font-size","");var calculatedFontSize=parseInt(jQueryce.css("font-size"),10);calculatedFontSize<obj.minimalReadableFontSize&&jQueryce.css("font-size",obj.minimalReadableFontSize+"px")}}}}var l,list=[],obj=resizeables;return this.findContainers=function(){for(var fm in obj.fillModes)jQuery("."+obj.fillModes[fm]).each(function(){var a=new aRContainer(jQuery(this),obj.fillModes[fm]);list.push(a)});l=list.length},this.getContainersFromDescript=function(d){for(var aRCIndex in d){var aRCData=d[aRCIndex];aRCData.jQuerysrc=jQuery(aRCData.srcString);var aRC=new aRContainerGeneric(aRCData);list.push(aRC)}l=list.length},this.adjust=function(){for(var i=0,arc=list[i];l>i;i++,arc=list[i])arc.adjust()},this},resizeables.engine=new resizeables.engineCreator,jQuery(document).on("keydown","#body",scrollParallax);var hashProcessingSystem={doNotApplyHashFromAddressLine:!1,userLock:!1,lastSlideI:0,applyHashFromAddressLine:function(){var addr=self.location.toString(),selectedSlide=addr.slice(addr.indexOf("#")+1);if(void 0!=selectedSlide)for(var h in hashProcessingSystem.addrMap)if(selectedSlide==hashProcessingSystem.addrMap[h]&&h!=hashProcessingSystem.lastSlideI){hashProcessingSystem.userLock=!0,para.toSlide(+h);var hashName=addr.match(/#.*/);return hashName=hashName[0],void(hashName=hashName.substring(1))}},trackHashChange:function(){if(!paraSample.settings.disableAutoHashChange&&para.currentSlideI!=hashProcessingSystem.lastSlideI){if(hashProcessingSystem.lastSlideI=para.currentSlideI,hashProcessingSystem.userLock)return void(hashProcessingSystem.userLock=!1);hashProcessingSystem.doNotApplyHashFromAddressLine=!0;var infoString="trackHashChange : Changing hash. ";hashProcessingSystem.doNotApplyHashFromAddressLine&&(infoString+=" Has doNotApplyHashFromAddressLine."),hashProcessingSystem.userLock&&(infoString+=" Has userHashLock."),window.location.hash=hashProcessingSystem.addrMap[para.currentSlideI]}}};jQuery(window).on("hashchange",function(e){return e.preventDefault(),hashProcessingSystem.doNotApplyHashFromAddressLine?void(hashProcessingSystem.doNotApplyHashFromAddressLine=!1):(hashProcessingSystem.applyHashFromAddressLine(),!1)});var referenceHeight=900;aRCDescript=[{srcString:"#layouts .story",fitting:resizeables.fillModes.NONE,multiLayout:!0},{srcString:"#scaling .story",fitting:resizeables.fillModes.FIT_PARENT}];var arrowTimeout=null,optimizationSlide={pause:function(){jQuery("#optimization .fastLayer").stop(!0,!1)},resume:function(){jQuery("#optimization .fastLayer").animate({"margin-top":"500px"},400,"easeInOutCubic").animate({"margin-top":"0px"},400,"easeOutCubic",optimizationSlide.resume)}};jQuery(function($){function animateContentOnScroll(){Dog.$e.each(function(i){{var $this=$(this),frameWidth=$(window).width()/$(this).data("frames"),frames=$this.data("frames")-1,offset=($this.hasClass("dog-pee-right"),$this.offset().left);getMatrixM41(this)}if(offset>0&&windowWidth>=offset){var frame=Math.floor(offset/frameWidth);frame=frames-frame,$this.data("frame",frame+1);var lastFrame=$this.data("lastFrame");lastFrame&&lastFrame>frame&&!$this.hasClass("can-reverse")&&(frame=lastFrame);var bgTop=-$this.height()*frame;$this.css("background-position","-200px "+bgTop+"px").data("lastFrame",frame)}}),$(".rotate-me").each(function(){var $this=$(this),frames=90,frameWidth=$(window).width()/frames,offset=$this.offset().left;if(offset>=0&&windowWidth>=offset){var frame=Math.floor(offset/frameWidth),angle=360/frames*frame;$this.stop(!0,!1).transition({rotate:angle+"deg"},100)}}),$("img.shake-me").each(function(){var $this=$(this),frames=90,frameWidth=$(window).width()/frames,maxScroll=(window.innerHeight-$this.height())/frames,offset=$this.offset().left;if(offset>=0&&windowWidth>=offset){$this.addClass("stop-shake");var frame=frames-Math.floor(offset/frameWidth),x=maxScroll*frame;$this.stop(!0,!1).transition({x:-x,y:x},0)}}),animateVisibleContent()}function shittyAnimations(){$stories.each(function(i){var $story=$(this),offset=$story.offset().left,value=0,xVal=1,xPos=windowWidth/2,half=$story.width()/2,end=$story.data("end"),start=$story.data("start"),property=$story.data("transform")?transformProperty:$story.data("style"),opacityMultiplier=$story.data("opacity")||1.5;offset+=half,offset>=0&&windowWidth+half>=offset&&(xVal=(offset-xPos)/xPos,value=xVal*(end-start)),$story.data("style")?this.style[property]=end-value+$story.data("unit"):this.style[property]=$story.data("transform")+"("+(end-value)+$story.data("unit")+")",this.style.opacity=1-Math.abs(xVal)*opacityMultiplier})}function countWidth(){var windowWidth=$(window).width();$(".countWidth").width(windowWidth).css({height:"100%"})}function autoSlideParallax(){if(isDone--,!(isDone>0)){var id="undefined"==typeof scrollToSlide?"slide-here":scrollToSlide,$divs=$("#parallax > div");

$divs.each(function(index){this.id==id&&(index-=1,console.log("paras",index),setTimeout(function(){for(i=0;i<=index;i++)console.log("para",i),setTimeout(function(){para.closerRight()},50)},2100))})}}function adjustElementsSize(){var $div=$(".shake-me");$div.css({left:$div.next().width()})}var angle=0,defaultWidth=1900;$("#parallax").on("init",function(){if(window.innerWidth<defaultWidth&&!$("#parallax").hasClass("no-resize")){console.log("resize");var ratio=window.innerWidth/defaultWidth,hratio=window.innerHeight/930;ratio>1&&(ratio-=1),$(".fastLayer").each(function(){var left=this.style.left,right=this.style.right,percentage=left.indexOf("%")>0,rpercentage=right.indexOf("%")>0,$this=$(this),$parent=$this.parent();left=parseFloat(left),right=parseFloat(right),left&&(0>left?left/=ratio:left*=ratio),right&&(right>0?right/=ratio:right*=ratio),isNaN(left)||(this.style.left=left+(percentage?"%":"px")),isNaN(right)||(this.style.right=right+(rpercentage?"%":"px")),$this.find("img").each(function(){var $img=$(this),height=(($img.data("width")||$img.width())*ratio,($img.data("height")||$img.height())*hratio);$parent.hasClass("full-height-img")||height>0&&$img.css("max-height",height)}),this.dataset.ratio=$parent.hasClass("full-height-img")?ratio:ratio})}var background=$(".parallaxBackground"),backgroundHeihgt=$(".parallaxBackground").height(),windownHeight=$("#parallax").hasClass("on-load")?$("#parallax").height():$(window).height();background.css({marginBottom:-((backgroundHeihgt-windownHeight)/2)+15}),console.log("move background by: "+-(backgroundHeihgt-windownHeight)/2)});var $stories=$("#parallax .animate-me");if(window.innerWidth<1920){var ratio=2600/window.innerWidth;$(".fastLayer").each(function(){var left=($(this),this.style.left);if(left.indexOf("%")>0){var vleft=parseFloat(left);vleft=0>vleft?vleft/ratio:vleft*ratio,this.style.left=vleft+"%"}})}createLayers(),optimizationSlide.resume(),$("#parallax").on("finishedMove",function(amount){if(para.setDuration(3500),para.currentSlideI>0?$(".parallax-menu").stop(!0,!1).fadeIn():$(".parallax-menu").stop(!0,!1).fadeOut(),$("#animated .popularResolution .fastLayer").each(function(){$(this).data("resume")()}),optimizationSlide.resume(),Dog.$shake.length>0){var interval=setInterval(function(){var a=.6*Math.sin(angle);$("img.shake-me").transition({rotate:a+"deg"},48),angle+=.1},50);Dog.$shake.data("interval",interval)}}),$("#parallax").on("startedMove",function(){$("#animated .popularResolution .fastLayer").each(function(){$(this).data("pause")()}),Dog.$shake.length>0&&clearInterval(Dog.$shake.data("interval")),optimizationSlide.pause()});var Dog={$e:$(".dog-pee, .the-bus, .dog-no-pee"),$shake:$("img.shake-me")};$("#parallax").on("init",function(e){setTimeout(function(){$("#parallax").hasClass("no-scroll")||($("#parallax").hasClass(".ignore-hashtag")&&$(".parallax-menu").fadeIn(),$("#slide-here").length>0||"undefined"!=typeof scrollToSlide?autoSlideParallax():0===para.currentSlideI&&para.closerRight())},200),adjustElementsSize()}),$(window).resize(function(){clearTimeout($(this).data("timeout"));var timeout=setTimeout(function(){adjustElementsSize()},200);$(this).data("timeout",timeout)}),$("#parallax").on("startedMove",function(){$(".parallax-arrow ").addClass("hide-me"),clearTimeout(arrowTimeout)}),$("#parallax").on("finishedMove",function(e){arrowTimeout=setTimeout(function(){para.currentSlideI<para.slidesCount-1&&$(".right-arrow").removeClass("hide-me"),para.currentSlideI>0&&$(".left-arrow").removeClass("hide-me")},1500)}),$(".right-arrow").click(function(){para.closerRight()}),$(".left-arrow").click(function(){para.closerLeft()}),$hidden=$(".show-me");{var transformProperty=Modernizr.prefixed("transform");$hidden.length>0?animateContentOnScroll:shittyAnimations}$("#parallax").on("scrollChange",animateContentOnScroll),$(document).ready(function(){$("#parallax").length<=0&&$("#parallax-wrapper").hasClass("no-ready")||($("#overlay-boxes > div").width($(window).width()).height($(window).height()/2),$("#overlay-boxes > .box2").css("top",$(window).height()/2),setTimeout(function(){$("#parallax").hasClass("on-load")||($("#overlay-boxes .box1").delay(800).transition({y:"-200%"},800,function(){$(this).hide()}),$("#overlay-boxes .box2").delay(800).transition({y:"200%"},800,function(){$(this).hide()})),$("#parallax").length>0&&startAllParaSystems()},500))}),$(window).load(function(){$("#skip").fadeOut(),$("#parallax").hasClass("on-load")&&($("html, body").scrollTop(0),$("#overlay-boxes .box1").delay(800).transition({y:"-200%"},800,function(){$(this).hide()}),$("#overlay-boxes .box2").delay(800).transition({y:"200%"},800,function(){$(this).hide()}),jQuery("."+loaderClass).delay(300).animate({opacity:0},preloader.fillingTime,function(){jQuery(this).remove()}),$(".preloaderCont").animate({opacity:0},preloader.fillingTime,function(){jQuery(this).remove()}),autoSlideParallax())});var isDone=2;countWidth(),$(window).resize(function(){countWidth()}),$("article").hasClass("animated-text")&&$("#parallax").on("finishedMove",function(amount){para.currentSlideI==para.slidesCount-1&&setTimeout(function(){if(!$("article .main").hasClass("visible")){$("article .main, #mouse").addClass("visible");var tl=new TimelineLite,chars=$("article .main span");tl.staggerFrom(chars,.6,{opacity:0,scale:0,y:80,rotationX:90,transformOrigin:"left center",ease:Back.easeOut},.005,"+=0")}},100)})}),function($){$(".submenu li a").click(function(){return $(".submenu li").removeClass("active"),$(this).parent().addClass("active"),$("#parallax").hasClass("ignore-hashtag")&&"#"==$(this).attr("href")[0]?($(".submenu li a").click(function(){var index=$($(this).attr("href")).index()-1,dist=index-para.currentSlideI;for(console.log(index,dist),i=0;i<Math.abs(dist);i++)0>dist?para.closerLeft():para.closerRight()}),!1):void 0}),$("body").hasClass("page-template-parallax")&&$("article").each(function(){var $this=$(this);if(!$this.hasClass("no-random")){var animation=Math.round(Math.random());if(animation=0,0===animation){var dir=Math.round(Math.random());$this.find("h1, .main, h2, h3, .divider, .description").each(function(){var c=0===dir?"to-top":"to-bottom";dir=0===dir?1:0,$(this).addClass("fade-me animate-me").addClass(c)})}else $this.closest(".parallax-item").addClass("fly-me animate-me show").data("revert","away"),$this.html("").append($div),$this.closest("article").closest("div").addClass("fly-perspective")}})}(jQuery),function($){var contentHeight;$("#parallax-wrapper").length>0&&(jQuery(document).ready(function($){contentHeight=window.innerHeight-$("nav.top-bar").outerHeight()-$("#footer").outerHeight(),$(".size-me").height(contentHeight)}),$("a.scroll-down").click(function(){var index=$($(this).attr("href")).index();return $("#parallax-wrapper").transition({y:-contentHeight*index},1e3,"easeInExpo"),$(this).data("second")&&($("#navigation-menu").addClass("double"),$("#navigation-menu .second").removeClass("hidden"),$("#devview").css({marginTop:76})),$("#video1").length>0&&playVideo("video1"),!1}),$(".socials > a").click(function(){$(this).next().toggleClass("active")}))}(jQuery);