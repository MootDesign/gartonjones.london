function initSVG(){Model.isTouch||(snap=Snap(document.documentElement.clientWidth,document.documentElement.clientHeight),paper=snap.paper,jQuery("svg").width(jQuery(".viewport").width()),jQuery("svg").height(jQuery(".viewport").height())),setTimeout(function(){jQuery('*[id*="dot-container"]').each(function(i){$div=jQuery(this),$title=$div.find(".title");var pos=jQuery(this).find(".title").attr("data-pos"),left="left"==pos?-$title.width()-15:30;$title.css("left",left),setTimeout(function($div){$div.removeClass("hidden"),setTimeout(function($div){$div.find(".dot").addClass("pulse")},100*$div.index(),$div)},100*(i+1),$div),jQuery("body").on("touch",$div,function(e){stopAnimation=!1,showContent(jQuery(this))}),$div.mouseenter(function(){stopAnimation=!1,showContent(jQuery(this))})})},600),initDevelopmentContent()}function initDevelopmentContent(){setTimeout(function(){moveDescriptions()},300),jQuery(window).resize(function(){moveDescriptions(),$active=jQuery(".dot-active"),$active.length>0&&hideContent($active)}),jQuery("#gallery .content p img").click(function(){zoomImage(jQuery(this))}),jQuery("body").click(function(e){$active=jQuery(".dot-active"),$t=jQuery(e.target),$dot=$t.closest("#dot-2-desc"),$active.length>0&&$dot.length<=0&&hideContent($active)}),jQuery("body").on("click",".big-controls",function(){$new=jQuery("<img>"),$div=jQuery("<div>").append($new),$imgs=jQuery("#gallery img");var current;$imgs.each(function(i){jQuery(this).hasClass("currentBig")&&(current=i)}),$imgs.removeClass("currentBig"),dir=1,jQuery(this).hasClass("big-next")?current++:(current--,dir=-1),current>$imgs.length&&(current=0),0>current&&(current=$imgs.length);var img=$imgs.get(current),$img=jQuery(img);$img.addClass("currentBig"),$new.load(function(){$new=jQuery(this),$div=$new.parent(),jQuery("body").append($div),jQuery("html").css({overflow:"hidden"}),jQuery("body").hasClass("single-2d")||jQuery("body").addClass("no-overflow"),$full=jQuery(".full-img"),$full.transition({scale:dir>0?3:0,opacity:0},"slow","easeInOutExpo",function(){$full.remove()}),$div.addClass("full-img"),$new.off("load").css("marginLeft",-$new.data("width")/2),$div.css({left:"50%",top:$full.position().top,marginLeft:"-25%"}),$div.transition({opacity:0,scale:dir>0?0:3},0).show(),$new.width()>$div.width()&&$new.css({left:-Math.abs($new.width()-$div.width())/2,position:"relative"}),$div.show().attr("src",$new.attr("src")).transition({scale:1,opacity:1},"slow","easeInOutExpo",function(){adjustBigControls($div)})}).attr("src",$img.data("big"))})}function moveDescriptions(){jQuery('*[id*="dot-container"]').each(function(i){if($div=jQuery(this),$desc=jQuery("#"+$div.attr("data-id")+"-desc"),$desc.length>0){var l,pos=$div.attr("data-side"),t=$div.position().top-100;l="right"==pos?$div.position().left+100:$div.position().left-$desc.width()-100,0>l&&(l=$div.position().left+100,t-=50),l+$desc.width()>document.documentElement.clientWidth&&(l=document.documentElement.clientWidth-$div.width()),$desc.css({left:l,top:t})}})}function showContent($src){if($src.removeClass("dot-active"),$active=jQuery(".dot-active"),$active.length>0&&$src.index()!=$active.index()&&hideContent($active),$target=jQuery("#"+$src.data("id")+"-desc"),!($target.length<=0)){$dot=$src,stopAnimation=!1,$dot.find(".title").fadeOut();var pos=$dot.position();pos.left+=7,pos.top+=51,$target.show();var l=$target.position().left;l<pos.left&&(l+=$target.width()+20);var t=$target.position().top+78;lines.line1[$dot.index()]=animateLine($dot,lines.line1,pos.left,pos.top,l,t,_showDescription,100),$dot.addClass("dot-active")}}function _showDescription($dot,x2,y2){if(stopAnimation)return void(stopAnimation=!1);var l=$target.position().left;l>$dot.position().left&&(l+=$target.width()),lines.line2[$dot.index()]=animateLine($dot,lines.line2,x2,y2,l,y2),setTimeout(function(){stopAnimation||$target.show().animate({opacity:1},"slow")},200)}function hideContent($dot){$target.lenght<=0||($target.stop(!0,!0).animate({opacity:0},"slow",function(){jQuery(this).hide()}),void 0!=lines.line2[$dot.index()]?(line2=lines.line2[$dot.index()],animateLine($dot,lines.line2,line2.attr("x2"),line2.attr("y2"),line2.attr("x1"),line2.attr("y1"),_hideObliqueLine)):_hideObliqueLine($dot))}function _hideObliqueLine($dot){if(void 0!=lines.line1[$dot.index()]){var line1=lines.line1[$dot.index()];lines.line2[$dot.index()]=void 0,animateLine($dot,lines.line1,line1.attr("x2"),line1.attr("y2"),line1.attr("x1"),line1.attr("y1"),function(){{var dot=$dot;lines.line1}return function(){dot.find(".title").stop(!0,!0).fadeIn(),dot.removeClass("dot-active"),lines.line1[dot.index()]=void 0}}())}}function animateLine($dot,line,x1,y1,x2,y2,callback,speed){var line=line[$dot.index()];return void 0==line&&(line=paper.line(x1,y1,x1,y1),line.attr({stroke:lineStrokeColor,strokeWidth:1})),void 0==speed&&(speed=200),line.stop(!0,!0).animate({x2:x2,y2:y2},speed,function(){var dot=$dot;return function(){null!=callback&&callback.call("",dot,x2,y2)}}()),line}function zoomImage($small){jQuery("#gallery img").removeClass("current"),$small.addClass("current currentBig"),$img=jQuery("<img>"),$div=jQuery("<div>"),$div.addClass("full-img").append($img).hide(),jQuery("body").append($div),$close=jQuery("<div>").html("&#10005"),$close.addClass("x-close").addClass("x-full").hide(),jQuery("body").append($close),$next=jQuery("<a>").html("&#9658").addClass("big-controls big-next").hide(),$prev=jQuery("<a>").html("&#9668").addClass("big-controls big-prev").hide(),jQuery("body").append($prev).append($next),$div.data("width",$small.width()).data("height",$small.height());var off=$small.offset();$div.data({left:off.left,top:off.top}),jQuery("html").css({overflow:"hidden"}),jQuery("body").hasClass("single-2d")||jQuery("body").addClass("no-overflow"),zoomImageLoad($small),$_small=$small}function zoomImageLoad($small){var src=$small.attr("src"),patt=/-\d[^\.]*/gi,full=src.replace(patt,""),full=$small.data("big");$big=jQuery(".full-img img").load(function(){$img=jQuery(this),$div=$img.parent();var diffW=$div.width()-$div.data("width"),diffH=$div.height()-$div.data("height"),top=parseFloat($div.data("top"))-diffH/2,left=parseFloat($div.data("left"))-diffW/2;$div.css({top:top,left:left});var y=(document.documentElement.clientHeight-$div.height())/2;y-=top;var x=(document.documentElement.clientWidth-$div.width())/2;x-=left;var scale=$_small.width()/$div.width();if($img.data("scale",scale),$div.show().transition({scale:scale,opacity:.6},0),$img.width()>$div.width()&&$img.css({left:-Math.abs($img.width()-$div.width())/2,position:"relative"}),$_small.hide(),$div.transition({scale:1,opacity:1,y:y,x:x,opacity:1},500,"easeInOutExpo",function(){adjustBigControls(jQuery(this))}),jQuery("#gallery").transition({scale:3,opacity:0},400,"easeInOutExpo",function(){jQuery(this).hide()}),null!=$_small.attr("data-video")){var dot='<div class="tdot-big" ></div>';$div.html($div.html()+dot),$div.find(".tdot-big").on("click",loadVideo)}jQuery(this).off("load")}).attr("src",full)}function adjustBigControls($img){if($close=jQuery(".x-full"),!($close.length<=0||$img.length<=0)){var pos=$img.offset();$close.css({left:pos.left+$img.width()+10,top:pos.top-30}),$close.fadeIn();var t=pos.top+$img.height()/2;jQuery(".big-prev").css({left:pos.left-50,top:t}).fadeIn(),jQuery(".big-next").css({left:pos.left+$img.width()+20,top:t}).fadeIn()}}function loadVideo(){$this=jQuery(this),jQuery(".full-img").animate({opacity:0},0),$div=jQuery("<div>").attr("id","video").css("top",jQuery(".full-img").position().top);{var width=jQuery(".full-img").width();jQuery(".full-img").height()}$div.html('<video width="'+width+'" autoplay controls muted><source src="'+$_small.data("video")+'" type="video/mp4"></source></video>'),jQuery("body").append($div)}function scrollAreaSubContent($this,delta,speed,step,ease,stop){void 0==speed&&(speed="fast"),void 0==step&&(step=40),void 0==ease&&(ease="easeOutSine"),void 0==stop&&(stop=!1),"undefined"!=typeof model&&Model.isTouch&&(step=2*Math.abs(delta)),$row=$this.find(".row");var top=$row.position().top;delta>0?top+=step:top-=step,top>0&&(top=0);var diff=$row.height()-$this.height();top+$row.height()<$this.height()&&(top=-diff),$draggable=$this.find(".scrollbar .draggable");var diff=$row.height()-$this.find(".scrollbar").height(),ratio=($this.parent().height()-$draggable.height())/diff,dtop=-parseInt(top)*ratio;$draggable.css({top:dtop+5}),$row.stop(!0,stop).animate({top:top},speed,ease)}function parallaxAnimate(item){$div=jQuery(item),"undefined"!=typeof engine&&engine.stopRenderLoop(),$div.hide().transition({scale:0},0),_centerDiv($div),$div.show().addClass("zactive").transition({scale:1,opacity:1},"slow","easeInOutExpo"),jQuery("html").css({overflow:"hidden"}),jQuery("body").hasClass("single-2d")||jQuery("body").addClass("no-overflow"),jQuery(".mt8p").transition({scale:3.5,opacity:0},"slow","easeInOutExpo",function(){jQuery(this).addClass("zoomed"),jQuery(this).hide(),setTimeout(function(){jQuery("html").css({overflow:"auto"}),jQuery("body").removeClass("no-overflow")},100)}),jQuery("#menugrayout").fadeIn(),jQuery("#menugrayout").addClass("no-close"),setTimeout(function(){autoScrollGallery()},600)}function _centerDiv($div){$div.css({marginLeft:-$div.outerWidth()/2,top:"50%",marginTop:-$div.outerHeight()/2}),$div.css({opacity:1})}function adjustScrollArea(marker){return}function scrollAreaContentTo(dir){var $current=jQuery("#content .container .subcontent.active"),sub=jQuery("#content .container .subcontent").get($current.index()+dir),$sub=jQuery(sub);if(left=jQuery("#content .container").width()*$sub.index(),left=-(left+10*$sub.index()),left>0&&(left=0),!($sub.length<=0)){$current.removeClass("active"),$sub.addClass("active"),jQuery(".leftmenu > li").removeClass("active");var li=jQuery(".leftmenu > .item").get($sub.index());jQuery(li).addClass("active"),0==$sub.index()?jQuery("#content .controls .prev").addClass("hide"):jQuery("#content .controls .prev").removeClass("hide"),$sub.index()>=jQuery("#content .container .subcontent").length-1?jQuery("#content .controls .next").addClass("hide"):jQuery("#content .controls .next").removeClass("hide"),jQuery("#content .container .scroll").stop(!0,!0).animate({left:left},800,"easeInOutExpo")}}function autoScrollGallery(){clearInterval(_sid),jQuery("#about").hasClass("zactive")&&(_sid=setInterval(function(){var $active=jQuery(".wiref3 .active"),dir=-1,index=$active.index(),next=jQuery(".wiref3 img").get(index+dir),$next=jQuery(next);$next.length<=0&&($next=$next=dir>0?jQuery(".wiref3 img").first():jQuery(".wiref3 img").last()),$next.css({left:-$next.width()*dir}),$active.stop(!0,!0).animate({left:$active.width()*dir,opacity:0},800,"easeInOutExpo"),$next.stop(!0,!0).animate({left:0,opacity:1},800,"easeInOutExpo"),$active.removeClass("active"),$next.addClass("active")},3e3))}function swapPage($div){var dir=1,$active=$div.closest(".parallax").find(".content .active");"next"==$div.attr("id")?($next=$active.next(),0==$next.length&&($next=jQuery("#gallery .content > div").first()),dir=2):($next=$active.prev(),0==$next.length&&($next=jQuery("#gallery .content > div").last())),$next.show().css("top",""),2==dir?($next.css({left:$next.width(),top:-$next.position().top,opacity:0}),$active.animate({left:-$active.width(),opacity:1},"slow","easeInOutExpo").removeClass("active"),$next.show().animate({left:0,opacity:1},"slow","easeInOutExpo").addClass("active")):($next.css({left:-$next.width(),top:-$next.position().top,opacity:0}),$active.animate({left:$active.width(),opacity:1},"slow","easeInOutExpo").removeClass("active"),$next.show().animate({left:0,opacity:1},"slow","easeInOutExpo").addClass("active"))}function adjustGallery(show){$gallery=jQuery("#gallery"),$gallery.length<=0||(void 0!=show||$gallery.hasClass("zactive"))&&($gallery.css({opacity:0,minHeight:"",maxHeight:""}).show(),setTimeout(function(a){_adjustGallery(a)},300,show))}function _adjustGallery(show){$gallery=jQuery("#gallery");var width=$gallery.width()-80,height=$gallery.height()-80,row=Math.floor(width/jQuery("#gallery img").first().width()),col=Math.floor(height/jQuery("#gallery img").first().height());1>col&&(col=1),1>row&&(row=1);var max=row*col;if(max>6&&(max=6),max!=$gallery.data("max-items")){$gallery.data("max-items",max);var $images=jQuery("#gallery img");jQuery("#gallery .content").append($images),jQuery("#gallery .content div").remove(),$div=jQuery("<div>").addClass("active"),$images.each(function(i){$img=jQuery(this),i>0&&i%max==0&&(jQuery("#gallery .content").append($div),$div=jQuery("<div>")),$img.detach(),$p=jQuery("<p>").append($img),$div.append($p)}),jQuery("#gallery .content").append($div)}maxH=getMaxHeight(jQuery("#gallery .content > div")),$gallery.css({maxHeight:maxH,minHeight:maxH}),show&&parallaxAnimate("#gallery"),setTimeout(function(){_centerDiv($gallery)},300)}function submitSearchForm(){var beds=jQuery("#search #content .beds .active").data("beds");jQuery('input[name="beds"]').val(beds),document.getElementById("devsearch").submit()}function _babylonSetMeshOpacity(end,id){for(var materials=new Array,mnames=new Array,i=0;i<Model.meshes.all.length;i++){var mesh=Model.meshes.all[i],name=mesh.name;if(void 0!=mesh.material){var to=end,from=mesh.material.alpha;"!"==name[0]&&(res=name.match(/!(\d*)/g),n=res[0].substr(1),n==id&&(to=1),mesh.material._gj_endValue=to,mesh.material._gj_startValue=from,materials.push(mesh.material)),"__"==mesh.material.name.substr(-2)&&mnames.indexOf(mesh.material.name)<=0&&(mesh.material._gj_endValue=to,mesh.material._gj_startValue=from,materials.push(mesh.material),mnames.push(mesh.material.name))}}for(var i=0;i<materials.length;i++)materials[i]._gj_alphaAnim=_animId,_babylonAnimateAlpha(_animId,materials[i]);++_animId}function _babylonAnimateAlpha(animId,material){jQuery({alpha:material._gj_startValue}).animate({alpha:material._gj_endValue},{step:function(val){material._gj_alphaAnim==animId&&(material.alpha=val)}},2e3)}function _js_scrollbar_init($this){var h=$this.outerHeight();diff=jQuery(".scroll-me li").outerHeight(),diff*=jQuery(".scroll-me li").length,$this.data("over",h-diff),$this.parent().find(".draggable").height($this.height()-(diff-h)-20),$this.hide()}function gj_load_floor_map(postcode,floor,show,func){if(void 0==show&&(show=!0),$_show=show,callbackFn=func,1!=jQuery("#floormap").data("init")?jQuery.ajax({type:"post",url:_ajaxurl,data:{action:"get_apartments",postcode:postcode,floor:floor,nonce:_nonce},success:function(response){json=jQuery.parseJSON(response),jQuery("#apartment-loading").fadeOut(),_ajax_floor_data=json,$_show&&gj_show_floormap(floor),jQuery("#floormap").data("init",1),void 0!=callbackFn&&callbackFn.apply()}}):show&&gj_show_floormap(floor),show){jQuery(".floorsmenu li").removeClass("active");var li=jQuery(".floorsmenu li").get(floor-1);jQuery(li).addClass("active"),jQuery(".floor-dot").hide(),parallaxAnimate("#floormap"),setTimeout(function(){gj_update_dot_position(),jQuery(".floor-dot").fadeIn()},600)}}function gj_show_floormap(floor){jQuery("#property-details").fadeOut(),jQuery(".floor-dot").fadeOut(function(){jQuery(this).remove()});var apartments=json[floor];if(void 0!=apartments){for(var key in apartments){var a=apartments[key];if(""!=a.map){var src=jQuery("#floorimage").attr("src");a.map!=src&&(jQuery(this).data("width",""),jQuery("#floorimage").one("load",function(){var theImage=new Image;theImage.src=jQuery(this).attr("src"),jQuery(this).data("width",theImage.width),jQuery(this).data("height",theImage.height),jQuery(this).fadeIn(),1==jQuery("#riverview").data("active")&&jQuery("#riverview").fadeIn(),gj_update_dot_position(),adjustScrollArea()}).attr("src",a.map))}if(""!=a.coords){$dot=jQuery("<div>"),$coords=a.coords.split(","),$dot.addClass("floor-dot dot-id-"+a.id).data("left",$coords[0]).data("top",$coords[1]),$pulse=jQuery("<div>").addClass("dot pulse"),$dot.append($pulse);for(var k in a)$dot.data(k,a[k]);jQuery("#floorimage").after($dot)}}gj_update_dot_position()}}function gj_update_dot_position(){var $img=jQuery("#floorimage");void 0!=$img.data("width")&&jQuery(".floor-dot").each(function(){var $dot=jQuery(this),ratioW=$img.width()/$img.data("width"),ratioH=$img.height()/$img.data("height"),l=$dot.data("left")*ratioW+jQuery("#floorimage").position().left,t=$dot.data("top")*ratioH+jQuery("#floorimage").position().top;jQuery(this).fadeIn().css({left:l,top:t})})}function gj_show_property_details($this,$div,height){void 0==$div&&($div="#property-details"),void 0==height&&(height=5),$p=jQuery($div),$p.find(".featured").attr("src",$this.data("featured")),$p.find(".title").html($this.data("title")),$p.find(".price").html($this.data("price")),$p.find("ul.bullets").children().remove();var bullets=$this.data("bullets");for(var k in bullets){var $li=jQuery("<li>").html(bullets[k]);$p.find("ul.bullets").append($li)}jQuery("#property-details").show(),max=getMaxHeight("ul.bullets > li")+height,$p.find("ul.bullets > li").height(max),$p.find("a").attr("href",$this.data("link")),jQuery("#property-details").fadeIn()}function gj_show_property_floormap(mesh){var $div=jQuery("#property-tooltip");$div.find(".title").html(mesh.data("title")),$div.find("img.map").attr("src",mesh.data("map"));var pcoords=mesh.data("dcoords"),x=Math.abs(100*pcoords.z),y=100-Math.abs(100*pcoords.x),$dot=$div.find(".apartment-dot");$dot.css({left:x+"%",top:y+"%"}),$dot.show(),$div.find(".featured").css({background:"url("+mesh.data("featured")+") 50% 50% no-repeat"}),$div.find(".excerpt").html(mesh.data("excerpt")),$div.fadeIn()}function getMaxHeight(id){var heights=jQuery(id).map(function(){return jQuery(this).height()}).get(),maxHeight=Math.max.apply(null,heights);return maxHeight}function initAzLayout(){var $az=jQuery("#az-list"),w=$az.find("li").outerWidth(),$active=$az.find(".active");jQuery("#az-list .selector").width(w-4).css({left:$active.offset().left}).animate({opacity:1})}function moveSelectorTo($li){$active=jQuery("#az-list li.active"),$active!=$li?$active.addClass("pulse"):$active.removeClass("pulse"),jQuery("#az-list .selector").stop(!0,!1).animate({left:$li.offset().left})}function loadKnowledgeData($src,$clone){var $div=$clone,$original=$src;_xhr=jQuery.ajax({type:"post",url:_ajaxurl,data:{action:"get_knowledge_details",id:$original.data("id"),nonce:_nonce},success:function(response){var json;try{json=jQuery.parseJSON(response)}catch(err){return!1}var data={_details:json};$src.data("xhr",data),void 0!=$div&&(showMarkerDetails(data,!1),showKnowledgeDetail($div))}})}function showKnowledgeDetail($div){var cx=(document.documentElement.clientWidth-$div.width())/2,x=(cx-$div.position().left)/2,cy=(document.documentElement.clientHeight-$div.height())/2,y=(cy-$div.position().top)/2,$marker=jQuery("#markerDetails"),left=(document.documentElement.clientWidth-$marker.outerWidth())/2,top=(document.documentElement.clientHeight-$marker.outerHeight())/2;$marker.addClass("no-transition az-marker").css({left:$div.position().left+x,top:$div.position().top+y}).transit({perspective:"500px",rotateY:"90deg",scale:.2,opacity:1},0).data("left",left).data("cx",$div.position().left+x).data("top",top).data("cy",$div.position().top+y).find(".x-close").addClass("no-close"),jQuery($div).transit({x:x,y:y,perspective:"500px",rotateY:"-90deg",scale:1.5},"fast","linear",function(){var x=$marker.data("left")-$marker.data("cx"),y=$marker.data("top")-$marker.data("cy");jQuery("#markerDetails").transit({x:x,y:y,scale:1,opacity:1,rotateY:"0deg"},"fast","linear")})}var snap,paper,stopAnimation=!1;jQuery(document).ready(function(){"undefined"!=typeof Snap&&initSVG(),jQuery(".scroll-me").scroll(function(){var st=jQuery(this).scrollTop(),diff=jQuery(this).data("over");void 0==diff&&_js_scrollbar_init(jQuery(this)),jQuery(this).parent().find(".draggable").stop(!0,!1).animate({top:st})}),void 0!=jQuery.draggable&&jQuery(".draggable").draggable({containment:"parent",axis:y,drag:function(){var $sm=jQuery(this).parent().parent().find(".scroll-me");$sm&&$sm.scrollTop(jQuery(this).position().top)}}),jQuery(".tooltip-me").mouseenter(function(){var $this=jQuery(this),$ttip=jQuery("._tooltip._tooltip-"+$this.index());$ttip.length<=0&&($ttip=jQuery("<div>").addClass("_tooltip _tooltip-"+$this.index()),jQuery("body").append($ttip));var pos=$this.offset();$ttip.html($this.data("ttip")).show().css({left:pos.left+$this.width()/2-$ttip.width()/2,top:pos.top+$this.height()+20}).transition({opacity:1,y:"-5px"},"fast")}).mouseleave(function(){var $this=jQuery(this),$ttip=jQuery("._tooltip._tooltip-"+$this.index());$ttip.transition({opacity:0,y:"5px"},"fast",function(){jQuery(this).remove()})})}),jQuery("body").on("click",".x-close",function(){if(!jQuery(this).hasClass("no-close"))if($img=jQuery(".full-img"),$img.length<=0){"undefined"!=typeof engine&&(startRenderEngine(),restoreCameraFov()),jQuery(".mt8p").removeClass("zoomed");var closest=jQuery(this).data("close")||".parallax";jQuery(this).closest(closest).transition({scale:0,opacity:0},"slow","easeInOutExpo"),jQuery("html").css({overflow:"hidden"}),jQuery(".mt8p").show().transition({scale:1,opacity:1,x:0,y:0},"slow","easeInOutExpo",function(){jQuery(this).attr("style",""),jQuery("body").removeClass("no-overflow"),setTimeout(function(){jQuery("html").css({overflow:"auto"})},100)}),jQuery("#menugrayout").fadeOut(),jQuery("#menugrayout").removeClass("no-close")}else $video=jQuery("#video"),$video.length>0&&$video.remove(),jQuery("#gallery").show().transition({scale:1,opacity:1},"slow","easeInOutExpo"),jQuery(".x-full").fadeOut("fast",function(){jQuery(this).remove()}),jQuery(".big-controls").fadeOut("fast",function(){jQuery(this).remove()}),jQuery("#gallery .content .active *").fadeIn(300),jQuery(".full-img").transition({scale:jQuery(".full-img").data("scale"),opacity:0,x:0,y:0},"slow","easeInOutExpo",function(){jQuery(this).remove()})});var line1,line2,$target,$dot,lines={line1:new Array,line2:new Array},lineStrokeColor="undefined"==typeof lineStrokeColor?"#fff":lineStrokeColor,$_small,radius=200,y;jQuery(document).ready(function(){return}),jQuery(window).resize(function(){setTimeout(function(){adjustScrollArea(),adjustGallery(),adjustBigControls(jQuery(".full-img")),scrollAreaContentTo(0)},200)});var _sid;jQuery(document).ready(function(){jQuery("#gallery .controls").click(function(){swapPage(jQuery(this))})}),jQuery(document).ready(function(){jQuery(".dot-search .sale-let a").click(function(){jQuery(".dot-search .sale-let a").removeClass("active"),jQuery(this).addClass("active"),jQuery(".dot-search .beds").animate({height:jQuery(".dot-search .beds").data("height"),opacity:1},"fast");var status=jQuery(this).data("status");return jQuery(".dot-search .beds a").each(function(){var href=jQuery(this).attr("href"),re=/status.*$/;href=href.replace(re,"status="+status),jQuery(this).attr("href",href)}),!1}),jQuery(".dot-search .beds").each(function(){jQuery(this).data("height",jQuery(this).height()).animate({height:0,opacity:0},0)})}),jQuery(document).ready(function(){jQuery("#search #content .beds a").click(function(){jQuery("#search #content .beds a").removeClass("active"),jQuery(this).addClass("active")})}),jQuery(document).ready(function(){jQuery("#mplan .block img").mouseover(function(){_babylonSetMeshOpacity(.1,jQuery(this).data("block"))}).mouseout(function(){var id=Model.isSubmodel?jQuery("#mplan .active.block img").data("block"):void 0;_babylonSetMeshOpacity(Model.isSubmodel?.1:1,id)}).click(function(){if(!jQuery(this).hasClass("active")){jQuery("#mplan *").removeClass("active");for(var id=jQuery(this).data("block"),i=0;i<meshes.length;i++){var mesh=meshes[i],name=mesh.name;if(void 0!=id&&"!"==name[0]&&(res=name.match(/!(\d*)/g),n=res[0].substr(1),n==id)){_babylonOpenUrl(mesh);break}}}})});var _animId=0;jQuery("body").on("click","#floormap .side li",function(){}).on("click",".floor-dot",function(){$this=jQuery(this),jQuery(".floor-dot").removeClass("active").addClass("noactive"),$this.removeClass("noactive").addClass("active"),gj_show_property_details($this)});var _ajax_floor_data=null;jQuery(document).ready(function($){$("#az-list").length>0&&jQuery(window).resize(function(){initAzLayout()})}),jQuery(document).ready(function($){});