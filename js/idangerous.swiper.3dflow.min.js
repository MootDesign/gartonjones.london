Swiper.prototype.plugins.tdFlow=function(e,r){function l(){i=!0,t=e.slides;for(var r=0;r<t.length;r++)e.setTransition(t[r],0);if(o){s=e.h.getWidth(e.wrapper),a=s/t.length;for(var r=0;r<t.length;r++)t[r].swiperSlideOffset=t[r].offsetLeft}else{s=e.h.getHeight(e.wrapper),a=s/t.length;for(var r=0;r<t.length;r++)t[r].swiperSlideOffset=t[r].offsetTop}}function p(t){if(i){for(var t=t||{x:0,y:0,z:0},s=o?-t.x+e.width/2:-t.y+e.height/2,d=o?r.rotate:-r.rotate,n=r.depth,l=0;l<e.slides.length;l++){var p=e.slides[l].swiperSlideOffset,h=(s-p-a/2)/a*r.modifier,f=o?d*h:0,w=o?0:d*h,u=-n*Math.abs(h),v=o?0:r.stretch*h,c=o?r.stretch*h:0;Math.abs(c)<.001&&(c=0),Math.abs(v)<.001&&(v=0),Math.abs(u)<.001&&(u=0),Math.abs(f)<.001&&(f=0),Math.abs(w)<.001&&(w=0);var g="translate3d("+c+"px,"+v+"px,"+u+"px)  rotateX("+w+"deg) rotateY("+f+"deg)";if(e.setTransform(e.slides[l],g),e.slides[l].style.zIndex=-Math.abs(Math.round(h))+1,r.shadows){var y=o?e.slides[l].querySelector(".swiper-slide-shadow-left"):e.slides[l].querySelector(".swiper-slide-shadow-top"),m=o?e.slides[l].querySelector(".swiper-slide-shadow-right"):e.slides[l].querySelector(".swiper-slide-shadow-bottom");m.style.opacity=-h>0?-h:0,y.style.opacity=h>0?h:0}}if(e.browser.ie10||e.browser.ie11){var T=e.wrapper.style;T.perspectiveOrigin=s+"px 50%"}}}if(e.support.transforms3d){var t,s,a,i,o="horizontal"==e.params.mode;if(r){var d={rotate:50,stretch:0,depth:100,modifier:1,shadows:!0};r=r||{};for(var n in d)n in r||(r[n]=d[n]);var h={onFirstInit:function(s){if(t=e.slides,r.shadows){var a=document.createElement("div"),i=document.createElement("div");a.className=o?"swiper-slide-shadow-left":"swiper-slide-shadow-top",i.className=o?"swiper-slide-shadow-right":"swiper-slide-shadow-bottom";for(var d=0;d<t.length;d++)t[d].appendChild(a.cloneNode()),t[d].appendChild(i.cloneNode())}l(),p({x:e.getWrapperTranslate("x"),y:e.getWrapperTranslate("y"),z:e.getWrapperTranslate("z")})},onInit:function(r){l(),p({x:e.getWrapperTranslate("x"),y:e.getWrapperTranslate("y"),z:e.getWrapperTranslate("z")})},onSetWrapperTransform:function(e){p(e)},onSetWrapperTransition:function(t){for(var s=0;s<e.slides.length;s++)e.setTransition(e.slides[s],t.duration),o&&r.shadows?(e.setTransition(e.slides[s].querySelector(".swiper-slide-shadow-left"),t.duration),e.setTransition(e.slides[s].querySelector(".swiper-slide-shadow-right"),t.duration)):r.shadows&&(e.setTransition(e.slides[s].querySelector(".swiper-slide-shadow-top"),t.duration),e.setTransition(e.slides[s].querySelector(".swiper-slide-shadow-bottom"),t.duration))}};return h}}};