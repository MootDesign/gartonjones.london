var $e;
! function($) {
    "use strict";

    e.(".radio-would").slideToggle(400);

    function setParallaxContentHeight() {
        contentHeight = window.innerHeight - $("nav.top-bar").outerHeight() - $("#navigation-menu").outerHeight() - $("#footer").outerHeight(), $(".size-me").height(contentHeight), $(".full-img div").height(contentHeight).width(window.innerWidth), $("#parallax div.content").height(contentHeight)
    }

    function adjustBigControls() {
        $("#gallery .arrows").fadeOut();
        var $controls = $("#big-controls"),
            width = $(".big-image.current").width();
        $controls.width(width + 200).removeClass("no-events").addClass("visible").fadeIn()
    }

    function showTheSearchButton() {
        0 === activeSlide ? $("#register").hasClass("initialized") || ($(".parallax #register .title").first().trigger("click"), $(".parallax #register .title").first().trigger("click")) : $("#register").hasClass("open") && $(".parallax #register .title").first().trigger("click"), $("#backtop").removeClass("visible"), $activeSlide.hasClass("no-form") ? $("#register").removeClass("visible open") : $("#register").hasClass("initialized") && $("#register").addClass("visible"), $activeSlide.hasClass("no-title") ? ($(".view-other").removeClass("visible"), $("#backtop").addClass("visible")) : $(".view-other").addClass("visible"), $activeSlide.hasClass("no-backtop") && $("#backtop").removeClass("visible"), $activeSlide.hasClass("show-filters") ? $("#change-view").addClass("visible") : $("#change-view").removeClass("visible"), $(".parallax .content.active").hasClass("no-search") || activeSlide > 0 && $("#parallax > .search-button").addClass("visible")
    }

    function scrollTheGallery(dir) {
        var $current = $("#gallery .images .current"),
            current = $current.index() + dir;
        current >= $("#gallery .images .image").length && (current = 0), $("#gallery .images .image").each(function() {
            var $this = $(this);
            $this.removeClass(function(index, css) {
                return (css.match(/\b(before-|after-)\S+/g) || []).join(" ")
            }).removeClass("current before after");
            var id = $this.index() - current;
            if (Math.abs(id) > 3) {
                var sign = id > 0 ? -1 : 1;
                id = $("#gallery .images .image").length + id * sign, id *= sign
            }
            var c = 0 > id ? "before before-" : "after after-";
            0 === id && (c = "current id-"), $this.addClass(c + Math.abs(id))
        }), $("#image-desc li").removeClass("active");
        var li = $("#image-desc li").get(current);
        $(li).addClass("active")
    }

    function showTheGallery3D() {
        $("#gallery .images .image").removeClass("hidden"), $("#gallery .arrows").removeClass("single")
    }

    function showTheGallerySingle() {
        $("#gallery .images .image").addClass("hidden"), $("#gallery .arrows").addClass("single")
    }

    function setUpGallery() {
        var ratio = 16 / 9;
        $("#gallery .image").height($("#gallery .current").width() / ratio);
        var mLeft = ($("#gallery .current").width() - $("#gallery .images").width()) / 2,
            mTop = ($("#gallery .current").height() - $("#gallery .images").height()) / 2;
        $("#gallery .image").css({
            marginLeft: mLeft,
            top: -mTop
        })
    }

    function setUpTheAboutSlides() {
        if ($("#about .slides")) {
            var width = 0;
            $("#about .slides .slide").each(function() {
                width += $(this).width()
            }), $("#about .slides").width(width + 20), $(".the-about-content #images .image, .move-me").each(function() {
                var $this = $(this),
                    data = $this.data("alt").split(","),
                    x = window.innerWidth * (data[0] + 1);
                $this.transition({
                    x: x,
                    opacity: 1
                }, 0).data("speed", data[1]).delay(data[2])
            });
            var tableWidth = $("#about .keyfacts").width(),
                tableHeight = $("#about .keyfacts").height(),
                maxWidth = tableWidth / 4 - 20,
                maxHeight = tableHeight / 4 - 30;
            $("#about .facilities img").css({
                maxWidth: maxWidth,
                maxHeight: maxHeight
            })
        }
    }

    function centerTheAboutSlides() {
        $(".keyfacts .scrollable").width(getTotalWidth($(".keyfacts .scrollable .page")) + 40), $(".keyfacts .scrollable .page").width($(".slide .keyfacts").width()), $(".slides .slide-content, .center-me").each(function() {
            var $this = $(this),
                top = ($this.parent().outerHeight() - $this.outerHeight()) / 2,
                min = $(this).hasClass("text") ? 200 : 0;
            top = $(this).hasClass("text") ? Math.min(min, top) : Math.max(min, top);
            var $arrows = $(this).next(".arrows");
            if ($arrows.length > 0) {
                var w = $(this).width() / 2;
                $arrows.find(".arrow-left").transition({
                    x: -w - 60
                }, 0), $arrows.find(".arrow-right").transition({
                    x: w + 30
                }, 0), $arrows.find("div").addClass("visible")
            }
            $this.css({
                top: top
            })
        })
    }

    function splitTheContent() {
        $(".split-me").each(function() {
            var $this = $(this),
                minColumn = $this.data("columns") || 2,
                maxHeight = $this.closest(".slide-content").height() - maxHeightOffset,
                height = $this.height(),
                $scrollable = $this.closest(".scrollable");
            height > maxHeight && ($this.data("max", maxHeight), splitTheParagraphs($this, $this.data("class")), $this.closest(".columns").remove());
            var $columns = $scrollable.find("> .columns"),
                width = (parseInt($columns.first().css("padding-left")), $columns.first().outerWidth()),
                isFullWidth = $columns.first().hasClass("medium-12"),
                fullWidth = isFullWidth ? width : 2 * width,
                halfWidth = fullWidth / 2,
                totalColumns = $columns.length;
            $columns.each(function(i) {
                $(this).hasClass("medium-12") && totalColumns++, i > 0 && i % minColumn === 0 && $(this).addClass("padding")
            });
            var $padded = $scrollable.find(".columns.padding"),
                total = getTotalWidth($columns) + maxHeightOffset * $padded.length;
            $scrollable.find("> .columns").each(function() {
                var w = halfWidth;
                $(this).hasClass("medium-12") && (w = fullWidth), $(this).css({
                    width: w
                })
            }), $scrollable.width(total + 10);
            var pages = Math.ceil(totalColumns / minColumn),
                $ul = $scrollable.closest(".slide").find("ul.dots");
            for (i = 0; pages > i; i++) {
                var $li = $("<li>");
                $ul.append($li)
            }
            $ul.data("cpp", minColumn), $ul.find("li").first().addClass("active")
        })
    }

    function splitTheParagraphs($source, className) {
        var $column = $("<div>").addClass("columns").addClass(className);
        $source.closest(".scrollable").append($column), $lastItem && ("H4" == $lastItem.prop("tagName") && ($lastItem.detach(), $column.append($lastItem)), $lastItem = null), $source.find("> div > *").each(function() {
            var $p = $(this),
                maxHeight = $p.closest(".split-me").data("max");
            return $p.outerHeight() + $column.outerHeight() <= maxHeight ? ($p.detach(), $column.append($p), void($lastItem = $p)) : (splitTheParagraphs($source, className), !1)
        })
    }

    function animateTheAboutImages() {
        var currentSection = $(".parallax-menu .active").index() - 1;
        $(".the-about-content #images .image, img.move-me").each(function() {
            if ($(this).closest(".content").hasClass("active")) {
                var $this = $(this);
                if ($this.hasClass("load-me")) {
                    currentSection = 0;
                    var visible = isElementInViewport($this.closest("li"));
                    if (!visible) return
                }
                var data = $this.data("alt").split(","),
                    speed = 1e3 * data[1],
                    delay = 1e3 * data[2],
                    x = (data[0] == currentSection ? "easeOutExpo" : "easeInExpo", window.innerWidth * data[0] - window.innerWidth * currentSection);
                $this.stop(!0, !1).delay(delay).transition({
                    x: x
                }, 2 * speed)
            }
        })
    }

    function requestFullScreen(element) {
        var requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullscreen;
        if (requestMethod) requestMethod.call(element);
        else if ("undefined" != typeof window.ActiveXObject) {
            var wscript = new ActiveXObject("WScript.Shell");
            null !== wscript && wscript.SendKeys("{F11}")
        }
    }

    function centerForm() {
        $("#forms").css("margin-top", -$("#forms").height() / 2)
    }

    function initThePage() {
        var $theRegister = $("#register > .the-content"),
            cheight = $theRegister.height(),
            height = window.innerHeight - $("#register").position().top - $("#footer").outerHeight() - $("#register .view-other").outerHeight() - 40 - $("#register .title").outerHeight();
        height = Math.min(height, cheight), cheight > height && $("#register .the-content").perfectScrollbar(), $("#worth-popup").hasClass("visible") && ($("#worth-popup").css({
            marginLeft: -$("#worth-popup").outerWidth() / 2,
            marginTop: -$("#worth-popup").outerHeight() / 2
        }), $("#worth-popup .gform_wrapper form").height($("#worth-popup").height()), $("#worth-popup .gform_wrapper form").perfectScrollbar(), showShade(0, !0)), $theRegister.data("height", height).height(0), showTheSearchButton(), setParallaxContentHeight(), setUpGallery(), scrollTheGallery(0), setUpTheAboutSlides(), splitTheContent(), centerTheAboutSlides();
        var $slideText = $("#slide-text");
        setInterval(function() {
            var $active = $slideText.find(".active"),
                $next = $active.next();
            $next.length <= 0 && ($next = $slideText.find("li").first()), $active.removeClass("active"), $next.addClass("active")
        }, 4e3), $(window).scrollTop(0), $("#parallax").scroll(function(e) {}), $(".full-screen").click(function() {
            var $this = $(this);
            return isFullScreen() ? (document.exitFullscreen ? document.exitFullscreen() : document.msExitFullscreen ? document.msExitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen && document.webkitExitFullscreen(), $this.removeClass("exit")) : (requestFullScreen(document.body), $this.addClass("exit")), !1
        })
    }
    var scrollTo, contentHeight, activeSlide = ($("#parallax .content"), 0),
        $activeSlide = $("#parallax > .content").first(),
        isDragging = !1,
        dragStart = 0,
        maxHeightOffset = 150,
        $lastItem = null;
    $("#dots li").click(function() {
        activeSlide = $(this).index(), $activeSlide = $($("#parallax .content").get(activeSlide));
        var index = $(this).index(),
            top = contentHeight * index,
            div = $("#parallax > div").get(index);
        $(div).find(".load-me.load-later").trigger("loadme"), $("#parallax").stop(!0, !1).transition({
            y: -top
        }, 1e3, "easeInExpo", function() {
            if ((1 == activeSlide || $activeSlide.hasClass("has-parallax")) && (setTimeout(function() {
                    animateTheAboutImages()
                }, 200), $(".parallax-menu .submenu li.active a").trigger("click")), void 0 !== scrollTo) {
                var $e = $(".the-strips ." + scrollTo),
                    top = $e.position().top;
                $e.closest(".the-strips").delay(100).animate({
                    scrollTop: top
                })
            }
            scrollTo = void 0, showTheSearchButton()
        })
    }), $(window).resize(function() {
        setParallaxContentHeight(), setUpGallery(), setUpTheAboutSlides(), $("#dots li.active").trigger("click"), $("#tube .door").css("height", $("#tube").height())
    }), $(".translate-me").mousemove(function(e) {
        var x = e.clientX / window.innerWidth - .5,
            y = (e.pageY - $(this).offset().top) / window.innerHeight,
            tx = 30 * -x,
            ty = 30 * -y;
        $(this).stop(!0, !1).transition({
            x: tx,
            y: ty
        }, 0, "easeOutSine")
    }), $("#gallery .arrows > .arrow-right").click(function() {
        $("#gallery .current"), $("#gallery .current").index()
    }), $("#gallery .arrows > div").click(function() {
        scrollTheGallery($(this).hasClass("arrow-right") ? 1 : -1)
    }), $("#gallery .images").mousedown(function(e) {
        isDragging = !0, dragStart = e.clientX
    }).mouseup(function(e) {
        isDragging = !1
    }).mousemove(function(e) {
        if (!isDragging) return !1;
        var dir = dragStart - e.clientX;
        if (Math.abs(dir) > 10) {
            e.preventDefault();
            var c = dir > 0 ? "right" : "left";
            $("#gallery .arrows .arrow-" + c).trigger("click"), isDragging = !1
        }
        return !1
    }), $("#gallery .images .image, #gallery .images img").on("dragstart", function(e) {
        return e.preventDefault(), !1
    }), $("body").on("click", "#gallery .current, .example-gallery .columns", function() {
        big = new Image;
        var bigImg = $(this).find("img").data("big");
        big.onload = function() {
            $this = $(this), $this.addClass("big-image current").hide(), $("body").append($this);
            var $current = this._source,
                scaleX = ($this.width(), $current.width() / $this.width()),
                scaleY = $current.height() / $this.height();
            $current.hasClass("columns") && (scaleX = scaleY = 0, $current = $current.find("img")), $this.transition({
                x: "-50%",
                y: "-50%",
                scale: [scaleX, scaleY]
            }, 0).data("scale", [scaleX, scaleY]).show(), $this.transition({
                x: "-50%",
                y: "-50%",
                scale: 1
            }, "fast", "easeOutSine", function() {
                var $this = $(this),
                    $button = $(".button-close-me");
                $button.css({
                    left: $this.position().left + $this.width() - $button.outerWidth() - 10,
                    top: $this.position().top + 10
                }), $button.addClass("visible"), adjustBigControls()
            }), $("#big-shade").fadeIn()
        }, big._source = $(this), big.dataset.id = $(this).find("img").data("id"), big.src = bigImg
    }), $("#big-shade, body > .button-close-me").click(function() {
        var scale = $(".big-image").data("scale");
        $("body > .big-image").transition({
            x: "-50%",
            y: "-50%",
            scale: scale
        }, "fast", function() {
            $(".big-image").remove()
        }), $("#gallery .arrows").fadeIn(), $("#big-shade").fadeOut(), $("#big-controls").removeClass("visible").fadeOut(), $("body > .button-close-me").removeClass("visible")
    }), $(".read-more").click(function() {
        var $content = $(this).closest(".content"),
            $more = $content.find(".more-text");
        showShade(), $more.removeClass("close").addClass("visible")
    }), $("article.parallax a, #big-menu a, .navigation-menu .second a").click(function() {
        var href = $(this).attr("href");
        if (1 == $(this).data("popup")) {
            showShade(500, !0);
            var $popup = $($(this).data("id"));
            if ($popup.data("center") && $popup.css({
                    marginLeft: -$popup.outerWidth() / 2,
                    marginTop: -$popup.outerHeight() / 2
                }), $popup.addClass("visible"), showClose(700, $popup), $popup.find("video").length > 0) {
                var video = $popup.find("video").get();
                video[0].play()
            }
            var $disable = $(this).closest(".disable-me");
            return $disable.length > 0 && $disable.addClass("disabled"), !1
        }
        if ("#" == href[0]) {
            var $li = $("#dots li.class-" + href.substr(1));
            return $li.trigger("click"), $(this).data("scroll") && (scrollTo = $(this).data("scroll")), !1
        }
    }), $("#big-controls > div").click(function() {
        var $this = $(this),
            $big = $(".big-image.current"),
            sourceId = $big.data("id"),
            $source = $("#gallery .images .image-" + sourceId),
            $image = $this.hasClass("arrow-left") ? $source.prev() : $source.next();
        $image.length <= 0 && $this.hasClass("arrow-left") && ($image = $source.closest(".images").find(".image").last()), $image.length <= 0 && !$this.hasClass("arrow-left") && ($image = $source.closest(".images").find(".image").first()), $("#big-controls").addClass("no-events");
        var big = new Image,
            bigImg = $image.find("img").data("big");
        big.onload = function() {
            var $this = $(this);
            $this.addClass("big-image").addClass(this._direction > 0 ? "to-right" : "to-left");
            var $current = $(".big-image.current");
            $("body").append($this), setTimeout(function(dir, $current, $this) {
                $current.addClass("animate").addClass(0 > dir ? "to-right" : "to-left").removeClass("current"), $this.addClass("animate current").removeClass("to-right to-left")
            }, 100, this._direction, $current, $this), setTimeout(function($current) {
                $current.remove(), adjustBigControls()
            }, 600, $current)
        }, big._source = $image, big._direction = $this.hasClass("arrow-left") ? -1 : 1, big.dataset.id = $image.find("img").data("id"), big.src = bigImg
    }), $("#register .title").click(function() {
        var $this = $(this),
            $content = $this.parent().find(".the-content");
        if ($this.parent().toggleClass("open"), "register" == $(this).parent().attr("id")) {
            var currentHeight = $this.parent().hasClass("open") ? $content.data("height") : 0;
            $("#register").hasClass("open") ? showTheGallerySingle() : showTheGallery3D(), $content.height(currentHeight)
        }
    }), $("#about .parallax-menu a, .location-map a").click(function() {
        var $this = $(this);
        if ($this.data("map")) {
            var $location = $("#mapholder");
            if (!$location.data("initialized")) {
                var listHeight = $("#location-map .the-list").outerHeight(),
                    height = $("#location-map").height();
                $("#location-map #mapholder").height(height - listHeight)
            }
            return $("#location-map").addClass("visible"), showShade(600, !0), showClose(700, "#location-map"), setTimeout(function() {
                $location.data("initialized") ? $location.fadeIn("fast") : (vmap($location.data("latitude"), $location.data("longitude"), $("#mapholder").next(".map-info")), $location.data("initialized", 1))
            }, 600, $location), !1
        }
        var index = $(this).parent().index() - 1,
            slide = $("#about .slides .slide").get(index),
            x = slide.offsetLeft;
        return $(".show-me .animate-me").removeClass("show"), $("#about .slides").stop(!0, !1).transition({
            x: -x
        }, 1e3, "easeInExpo", function() {
            setTimeout(function() {
                animateVisibleContent()
            }, 100)
        }), $(".parallax-menu li").removeClass("active"), $this.parent().addClass("active"), animateTheAboutImages(), !1
    }), $("body").on("click", ".slide .dots li", function() {
        var $this = $(this),
            $scrollable = $this.closest(".slide").find(".scrollable"),
            $ul = $this.parent(),
            index = $this.index(),
            cpp = $ul.data("cpp"),
            to = $this.index() * cpp,
            toIndex = $this.index(),
            from = $ul.find(".active").index(),
            $columns = $scrollable.find("> .columns");
        $columns.each(function(i) {
            var pos = 100 * (i + 1),
                $col = $(this),
                delay = i;
            if (from > toIndex) {
                var max = from * cpp + 1;
                delay = max - i
            }
            delay *= 200, i >= to && (pos = to + cpp > i ? 100 * cpp * index : 0, i >= 0 && cpp > i && (pos = 0)), $col.delay(delay).stop(!0, !1).transition({
                x: -pos + "%",
                marginLeft: 0
            }, 1e3, "easeInOutExpo")
        }), $ul.find("li").removeClass("active"), $this.addClass("active")
    }), $('#contact input[type="text"], #contact input[type="email"], #contact input[type="tel"], #contact textarea').focusin(function() {
        $(this).closest("li").find("label").addClass("focused")
    }).focusout(function() {
        $(this).val().length || $(this).closest("li").find("label").removeClass("focused")
    });
    $("#navigation-menu .pager a").click(function() {
        var $this = $(this),
            currentPage = $this.data("id");
        $(".keyfacts .scrollable .page").each(function(i) {
            var $page = $(this);
            $page.removeClass("to-screen from-screen").addClass("show"), currentPage > i && $page.addClass("from-screen").removeClass("show"), i > currentPage && $page.addClass("to-screen").removeClass("show")
        })
    }), $("table.facilities td").mouseenter(function(e) {
        var $this = $(this),
            src = this.dataset.src;
        if ("" === src) return void $(".parallax .shadow").removeClass("lighter");
        if ($("#image-tip").hide(), $("#video-tip").hide(), 1 == $this.data("video")) {
            var video = document.getElementById("video-tip"),
                $source = $("#facilities-tooltip video source");
            $source.length <= 0 && ($source = $("<source>"), $("#facilities-tooltip video").append($source));
            var oldSrc = $source.attr("src");
            src != oldSrc ? ($source.attr("src", src).attr("type", "video/mp4"), video.onloadeddata = function() {
                video.currentTime = 0, video.play()
            }) : video.play(), video.style.display = "block"
        } else {
            var $img = $("#image-tip");
            $img.attr("src", src), $img.show()
        }
        var left = e.pageX + 30,
            top = e.pageY - $("#facilities-tooltip").height() + 20;
        $("#facilities-tooltip span").html($this.find(".tooltip-text").html()), $("#facilities-tooltip").stop(!0, !1).addClass("visible").css({
            left: left,
            top: top
        }).show()
    }).mousemove(function(e) {
        if ($("#facilities-tooltip").hasClass("visible")) {
            var left = e.pageX + 30,
                top = e.pageY - $("#facilities-tooltip").height() + 20;
            $("#facilities-tooltip").css({
                left: left,
                top: top
            }).show()
        }
    }).mouseleave(function() {
        $("#facilities-bg img").removeClass("visible"), $(".parallax .shadow").removeClass("lighter"), $("#facilities-tooltip").removeClass("visible").hide(), setTimeout(function() {
            if (!$("#facilities-tooltip").hasClass("visible")) {
                var video = document.getElementById("video-tip");
                video.pause(), video.currentTime = 0
            }
        }, 100), $("#facilities-bg img").stop(!0, !1).transition({
            opacity: 0,
            scale: 1
        }, 400)
    }), $(".the-strips li").mouseenter(function() {
        $("#bg img").removeClass("active"), $("#bg ." + $(this).data("image")).addClass("active")
    }), $("#change-view li").click(function() {
        var id = $(this).data("id"),
            $div = $(id);
        $("#change-view li").removeClass("current"), $(this).addClass("current"), $("#devview > div, #myDiv-fluidwidth").hide(), $div.show(), $div.data("map") && !$div.data("initialized") && (initGMap("mapview", $div.data("lat"), $div.data("lon"), !0, !0), $div.data("initialized", 1))
    }), $(document).ready(function() {
        setTimeout(function() {
            $("#register").length > 0 ? initThePage() : setParallaxContentHeight()
        }, 500)
    }), $(window).load(function() {
        centerForm(), setTimeout(function() {
            $("#vertical-boxes .box1").transition({
                x: "-100%"
            }), $("#vertical-boxes .box2").transition({
                x: "100%"
            }), $("#loadingText").removeClass("show").addClass("to-screen"), $(".parallax .shadow").addClass("visible"), setTimeout(function() {
                $("#parallax").find("#home .text").addClass("visible");
                var $e = $(".animated-text");
                $e.addClass("visible");
                var tl = new TimelineLite,
                    chars = $e.find("span");
                tl.staggerFrom(chars, .6, {
                    opacity: 0,
                    scale: 0,
                    y: 80,
                    rotationX: 90,
                    transformOrigin: "left center",
                    ease: Back.easeOut
                }, .005, "+=0");
                var $car = $("#car");
                $car.transition({
                    left: -$car.width()
                }, 0).delay(1500).transition({
                    x: window.innerWidth
                }, 4e3, "easeOutQuad"), $car.find(".wheel").delay(1500).transition({
                    rotate: "720deg"
                }, 4e3, "easeOutQuad");
                var $bus = $("#bus");
                $bus.transition({
                    left: -$bus.outerWidth() + 10
                }, 0).delay(2e3).transition({
                    x: $bus.outerWidth() / 1
                }, 5e3, "easeOutQuad");
                var $taxi = $("#taxi");
                $taxi.transition({
                    x: window.innerWidth
                }, 0).css("visibility", "visible"), $taxi.delay(1500).transition({
                    x: window.innerWidth - $taxi.outerWidth()
                }, 4e3, "easeOutQuad"), $car.find(".wheel").delay(1500).transition({
                    rotate: "720deg"
                }, 4e3, "easeOutQuad");
                var $timetable = $("#timetable");
                setTimeout(function() {
                    $timetable.find(".flip-container").addClass("hover")
                }, 3e3);
                var $tube = $("#tube");
                $tube.transition({
                    x: -$tube.outerWidth()
                }, 0, function() {
                    $tube.find(".door").css("height", $tube.height()), $(this).css("visibility", "visible")
                }), $tube.delay(2100).transition({
                    x: 0
                }, 5e3, "easeOutCubic", function() {
                    $(".door").addClass("open")
                }), $tube.css({
                    bottom: $(".mind-the-gap").height()
                }), setTimeout(function() {
                    $("#register").addClass("initialized"), $("#register").addClass("visible")
                }, 8e3)
            }, 800)
        }, 200)
    }), document.addEventListener("keydown", function(e) {
        13 == e.keyCode && $(".full-screen").removeClass("exit")
    }, !1), $(document).ready(function() {
        var i = !0;
        $(".toggle-radio").click(function() {
            if (i && ($(".the-content").data("original-height", $(".the-content").height()), i = !1), $(".radio-would").is(":visible")) $(this).text("Show More"), $(".the-content").height($(".the-content").data("original-height")), $(".radio-would").slideToggle(400);
            else {
                $(this).text("Show Less"), $(".radio-would").slideToggle(400);
                var maxHeight = window.innerHeight - $("#register").position().top - $("#footer").outerHeight() - $("#register .view-other").outerHeight() - 65 - $(".view-other").outerHeight(),
                    updateInterval = setInterval(function() {
                        var updateHeight = $(".the-content").data("height") + $(".radio-would").height() + 5;
                        updateHeight > maxHeight && (updateHeight = maxHeight), $(".the-content").height(updateHeight)
                    }, 50)
            }
            $(".radio-would").promise().done(function() {
                clearInterval(updateInterval), setTimeout(function() {
                    $(".the-content").data("height", $(".the-content").height()), $("#register .the-content").hasClass("ps-container") ? $("#register .the-content").perfectScrollbar("update") : $("#register .the-content").perfectScrollbar()
                }, 500)
            })
        }), $("#gform_14").find("input, select, textarea").focus(function() {}), $(".property-worth .title").click(function() {
            $(".stamp-duty").hasClass("open") && $(".stamp-duty").toggleClass("open").find(".form-content").slideUp(), $(this).parent().toggleClass("open").find(".form-content").slideToggle()
        }), $(".stamp-duty .title").click(function() {
            $(".property-worth").hasClass("open") && $(".property-worth").toggleClass("open").find(".form-content").slideUp(), $(this).parent().toggleClass("open").find(".form-content").slideToggle()
        })
    }), $("#history .the-strips").scroll(function() {
        animateTheAboutImages()
    }), $("#filter-view ul a").click(function() {
        $("#filter-view ul li").removeClass("active"), $(this).parent().addClass("active");
        var category = $(this).data("category");
        $("#devview .the-strips li").each(function() {
            var $this = $(this),
                height = $this.data("height"),
                opacity = 1;
            $this.data("height") || (height = $this.outerHeight(), $this.data("height", height)), category && "" !== category && $this.data("category") != category ? (height = 0, opacity = 0) : $this.show(), $this.stop(!0, !1).animate({
                height: height,
                opacity: opacity
            }, "slow", function() {
                0 === $this.height() && $this.hide()
            })
        })
    }), $("a.scroll-down").click(function() {
        return $("#parallax-wrapper").transition({
            y: -contentHeight
        }, 1e3, "easeInExpo"), !1
    })
}(jQuery), jQuery(document).ready(function($) {
    $("#calcprice").length <= 0 || (document.getElementById("calcprice").onclick = function() {
        var stampDuty, flag, getValue = document.getElementById("price_house").value,
            reg = new RegExp(" ", "g"),
            step = getValue.replace(reg, ""),
            step2 = step.replace(/[&\/\\#,+()$~%.'":*?<>{}A-Za-z£$]/g, ""),
            forcalc = parseInt(step2);
        125000.01 >= forcalc ? stampDuty = 0 : forcalc > 125000.01 && 25e4 >= forcalc ? stampDuty = .02 * (forcalc - 125e3) : forcalc >= 250000.01 && 925e3 >= forcalc ? stampDuty = .05 * (forcalc - 25e4) + 2500 : forcalc >= 925000.01 && 15e5 >= forcalc ? stampDuty = .1 * (forcalc - 925e3) + 36250 : forcalc >= 1500000.01 && (stampDuty = .12 * (forcalc - 15e5) + 93750);
        var comma1 = stampDuty.toFixed(2),
            comma2 = "";
        flag = !1;
        var checklength = comma1.length;
        for (i = 0; i < comma1.length; i++) 8 == checklength ? comma2 += 2 === i ? "," + comma1[i] : comma1[i] : 9 == checklength ? comma2 += 3 === i ? "," + comma1[i] : comma1[i] : ("." === comma1[i] && (flag = !0), comma2 += i % 3 === 1 && flag === !1 ? "," + comma1[i] : i % 3 !== 1 && flag === !1 ? comma1[i] : comma1[i]);
        document.getElementById("result").innerHTML = "£ " + comma2
    })
}), jQuery(document).ready(function($) {
    $(".row-content").each(function() {
        $(this).data("height", $(this).height())
    }), $(".row-content.closed").height(0), $(".onetofive .leftmenu a").click(function() {
        var $this = $(this);
        return $this.closest("ul").find("li").removeClass("active"), $this.parent().addClass("active"), $('input[name="beds"]').val($this.data("title")), $this.closest(".columns").find(".sales-lettings").trigger("click"), document.getElementById("form-single").submit(), !1
    }), $(".center.title span").click(function() {
        return $(this).parent().hasClass("active") ? !1 : ($(".center.title").removeClass("active"), $(this).parent().addClass("active"), $(".row-content").addClass("closed"), $(this).closest("div").find(".row-content").removeClass("closed"), $(".row-content.closed").animate({
            height: 0
        }), void $(".row-content").not(".closed").each(function() {
            $(this).animate({
                height: $(this).data("height")
            })
        }))
    }), $(".ser h2,.ser sehp").click(function() {
        if ($(".optionsholder").removeClass("visible"), $holder = $(this).parent().find(".optionsholder"), $holder.hasClass("visible"));
        else {
            var pos = $("#wording").position();
            $holder.addClass("visible");
            var height = $holder.find(".relative-optionsholder").height();
            $holder.css("top", -height / 2 + pos.top)
        }
    }), $(".ser .opti").click(function() {
        var name = $(this).closest(".ser").attr("data-field"),
            value = $(this).attr("data-value");
        $(this).closest(".ser").find("> .sehp").html($(this).html()), $('input[name="' + name + '"]').val(value), $(this).closest(".optionsholder").removeClass("visible")
    }), $(".ser1 .sel1 .opti").click(function() {
        var val = $(this).attr("data-value");
        void 0 === val ? $(".ser5 .opti").show() : ($(".ser5 .opti").hide(), $(".ser5 .opti.loc-" + val).show(), $(".ser5 .opti.show-all").show())
    }), $("#property").on("keypress keyup focus", function() {
        var $list = $(this).next(),
            search = $(this).val().toLowerCase(),
            fuzzy = search.split("").join(".*?"),
            re = new RegExp(fuzzy);
        $list.addClass("visible"), $list.find("li").each(function() {
            var text = $(this).html().toLowerCase(),
                visible = re.exec(text);
            visible ? $(this).show() : $(this).hide()
        })
    }), $("#property").focusout(function() {
        $(this).next().removeClass("visible")
    }).focusin(function() {
        "" !== $(this).val() && $(this).next().addClass("visible")
    }), $(".autocomplete-list li").click(function() {
        $("#property").val($(this).html()), $(".autocomplete-list").removeClass("visible")
    }), $(".optionsholder .close").click(function(e) {
        e.preventDefault(), $(this).parents(".optionsholder").removeClass("visible")
    }), $(".sales-lettings").click(function() {
        return $(".sales-lettings").removeClass("active"), $(this).addClass("active"), $('input[name="status"]').val($(this).attr("data-value")), !1
    }), $("a.show-content").click(function(e) {
        e.preventDefault();
        var content = $(this).prevAll(".hide-content");
        return $(content).slideToggle(), $(this).html("Read more" != $(this).find(".news-read-more").text() ? '<span class="news-read-more">Read more</span>' : '<span class="news-read-more">Hide</span>'), !1
    })
});
for (var Clock = function() {
        var exports = function(element) {
            this._element = element;
            for (var html = "", i = 0; 6 > i; i++) html += "<span>&nbsp;</span>";
            this._element.innerHTML = html, this._slots = this._element.getElementsByTagName("span"), this._tick()
        };
        return exports.prototype = {
            _tick: function() {
                var time = new Date;
                this._update(this._pad(time.getHours()) + this._pad(time.getMinutes()) + this._pad(time.getSeconds()));
                var self = this;
                setTimeout(function() {
                    self._tick()
                }, 1e3)
            },
            _pad: function(value) {
                return ("0" + value).slice(-2)
            },
            _update: function(timeString) {
                for (var value, slot, now, i = 0, l = this._slots.length; l > i; i++) value = timeString.charAt(i), slot = this._slots[i], now = slot.dataset.now, now ? now !== value && this._flip(slot, value) : (slot.dataset.now = value, slot.dataset.old = value, slot.innerHTML = value)
            },
            _flip: function(slot, value) {
                slot.classList.remove("flip"), slot.dataset.old = slot.dataset.now, slot.dataset.now = value, slot.innerHTML = value, slot.offsetLeft, slot.classList.add("flip")
            }
        }, exports
    }(), i = 0, clocks = document.querySelectorAll(".clock"), l = clocks.length; l > i; i++) new Clock(clocks[i]);
! function($) {
    function move($class) {
        $($class).hasClass("active") ? ($($class).addClass("deactive"), setTimeout(function() {
            $($class).removeClass("active deactive")
        }, 2e3)) : $($class).hasClass("active") || (setTimeout(function() {
            $($class).addClass("active")
        }, 2e3), setTimeout(function() {
            $($class).addClass("flash"), $(".click-here").addClass("active")
        }, 4500), setTimeout(function() {
            $($class).removeClass("flash"), $(".click-here").removeClass("active")
        }, 7500))
    }
    $(window).load(function() {
        move(".first-text"), setInterval(function() {
            move(".first-text"), move(".second-text")
        }, 8e3)
    })
}(jQuery);