!function($){function mapImage($selector,$widthPercentage,$position,$maxWidth,$conditionToPlay,$conditionToCompare,$noMusic,$credit){void 0===$widthPercentage&&($widthPercentage=0),void 0===$position&&($position="left"),void 0===$maxWidth&&($maxWidth="auto"),void 0===$noMusic&&($noMusic=!1),void 0===$credit&&($credit=""),void 0===$conditionToPlay&&($conditionToPlay=null),void 0===$conditionToCompare&&($conditionToCompare=null),$($selector).each(function(){var $this=$(this),limit=$this.data("limit");if(limit){var times=parseInt($this.data("times"));if(times>limit)return}var widthPer;widthPer=0!==$widthPercentage?$this.width()*$widthPercentage/100:0;var imgOffset=$this.offset();if(void 0!==imgOffset&&(0!==imgOffset.top||0!==imgOffset.left)){var musicSelector,imgWidth=$this.width()-widthPer,imgHeight=$this.height(),imgClass=$selector.replace(".","");"left"==$position?musicSelector=$selector:"right"==$position&&(imgOffset.left=imgOffset.left+$this.width()*(100-$widthPercentage)/100,imgClass+=" map-right",musicSelector=$selector+".map-right");var audioSrc=$this.data("audio");"left"!=$position&&(audioSrc=$this.data("audio-right"));var audio='<audio src="'+audioSrc+'"></audio>';$noMusic&&(audio=""),$div=$("<div>").addClass("map-image "+imgClass).html(audio),$div.data("selector",$this),$("body").append($div),$(".map-image"+musicSelector).css({position:"absolute",width:imgWidth,height:imgHeight,top:imgOffset.top,left:imgOffset.left,display:"block",zIndex:5,maxWidth:$maxWidth}),$noMusic?$credit&&$(".map-image"+musicSelector).append('<div class="image-credit">Credit: <a href="'+$credit+'">'+$credit+"</a></div>"):$(".map-image"+musicSelector).mouseover(function(){var $sel=$(this).data("selector");if(null===$conditionToPlay||$sel.data($conditionToPlay)==$sel.data($conditionToCompare)){var times=$sel.data("times")||0,limit=$sel.data("limit");if(limit&&times>limit)return;$(this).find("audio")[0].play(),$sel.data("times",++times)}})}})}$("#parallax").on("startedMove",function(){$(".map-image").remove()}),$("#parallax").on("finishedMove",function(e){$("#parallax").hasClass("no-audio")||(mapImage(".car"),mapImage(".horse",50),mapImage(".horse",50,"right"),mapImage(".phone"),mapImage(".guy1"),mapImage(".guy2"),mapImage(".bus"),mapImage(".dog-pee-right",43,"left",150,"frame","frames"),mapImage(".spitfire"))})}(jQuery);