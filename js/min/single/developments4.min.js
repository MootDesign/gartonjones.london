!function(e){"use strict";function t(){e("#parallax div.content").height(window.innerHeight-e("nav.top-bar").outerHeight()-e("#footer").outerHeight()),e("#parallax > .empty").height(e(".site-footer").height()+40)}function a(){e("#gallery .arrows").fadeOut();var t=e("#big-controls"),i=e(".big-image.current").width();t.width(i+200).removeClass("no-events").addClass("visible").fadeIn()}function s(){k||(0===x?e("#register").hasClass("open")||e(".parallax #register .title").first().trigger("click"):e("#register").hasClass("open")&&e(".parallax #register .title").first().trigger("click"),e("#backtop").removeClass("visible"),x==e("#parallax > .content").length-1||y.hasClass("no-title")?(e("#register").removeClass("visible open"),e(".view-other").removeClass("visible"),e("#backtop").addClass("visible"),e(".the-title").fadeOut()):(e("#register").addClass("visible"),e(".view-other").addClass("visible"),e(".the-title").fadeIn()),y.hasClass("no-backtop")&&e("#backtop").removeClass("visible"),y.hasClass("show-filters")?e("#change-view").addClass("visible"):e("#change-view").removeClass("visible"),e(".parallax .content.active").hasClass("no-search")||x>0&&e("#parallax > .search-button").addClass("visible"))}function o(t){var i=e("#gallery .images .current"),a=i.index()+t;a>=e("#gallery .images .image").length&&(a=0),e("#gallery .images .image").each(function(){var t=e(this);t.removeClass(function(e,t){return(t.match(/\b(before-|after-)\S+/g)||[]).join(" ")}).removeClass("current before after");var i=t.index()-a;if(Math.abs(i)>3){var s=i>0?-1:1;i=e("#gallery .images .image").length+i*s,i*=s}var o=0>i?"before before-":"after after-";0===i&&(o="current id-"),t.addClass(o+Math.abs(i))}),e("#image-desc li").removeClass("active");var s=e("#image-desc li").get(a);e(s).addClass("active")}function l(){e("#gallery .images .image").removeClass("hidden"),e("#gallery .arrows").removeClass("single")}function n(){e("#gallery .images .image").addClass("hidden"),e("#gallery .arrows").addClass("single")}function r(){var t=16/9;e("#gallery .image").height(e("#gallery .current").width()/t);var i=(e("#gallery .current").width()-e("#gallery .images").width())/2,a=(e("#gallery .current").height()-e("#gallery .images").height())/2;e("#gallery .image").css({marginLeft:i,top:-a})}function d(){if(e("#about .slides")){var t=0;e("#about .slides .slide").each(function(){t+=e(this).width()}),e("#about .slides").width(t+20),e(".the-about-content #images .image, .move-me").each(function(){var t=e(this),i=t.data("alt").split(","),a=window.innerWidth*(i[0]+1);t.transition({x:a,opacity:1},0).data("speed",i[1]).delay(i[2])})}}function c(){e(".keyfacts .scrollable").width(getTotalWidth(e(".keyfacts .scrollable .page"))+40),e(".keyfacts .scrollable .page").width(e(".slide .keyfacts").width()),e(".slides .slide-content, .center-me").each(function(){var t=e(this),i=(t.parent().outerHeight()-t.outerHeight())/2,a=e(this).hasClass("text")?35:0;i=Math.max(a,i);var s=e(this).next(".arrows");if(s.length>0){var o=e(this).width()/2;s.find(".arrow-left").transition({x:-o-60},0),s.find(".arrow-right").transition({x:o+30},0),s.find("div").addClass("visible")}t.css({top:i})})}function h(){e(".split-me").each(function(){var t=e(this),a=t.data("columns")||2,s=t.closest(".slide-content").height()-I,o=t.height(),l=t.closest(".scrollable");o>s&&(t.data("max",s),u(t,t.data("class")),t.closest(".columns").remove());var n=l.find("> .columns"),r=(parseInt(n.first().css("padding-left")),n.first().outerWidth()),d=n.first().hasClass("medium-12"),c=d?r:2*r,h=c/2,g=n.length;n.each(function(t){e(this).hasClass("medium-12")&&g++,t>0&&t%a===0&&e(this).addClass("padding")});var f=l.find(".columns.padding"),m=getTotalWidth(n)+I*f.length;l.find("> .columns").each(function(){var t=h;e(this).hasClass("medium-12")&&(t=c),e(this).css({width:t})}),l.width(m+10);var v=Math.ceil(g/a),p=l.closest(".slide").find("ul.dots");for(i=0;i<v;i++){var w=e("<li>");p.append(w)}p.data("cpp",a),p.find("li").first().addClass("active")})}function u(t,i){var a=e("<div>").addClass("columns").addClass(i);t.closest(".scrollable").append(a),S&&("H4"==S.prop("tagName")&&(S.detach(),a.append(S)),S=null),t.find("> div > *").each(function(){var s=e(this),o=s.closest(".split-me").data("max");return s.outerHeight()+a.outerHeight()<=o?(s.detach(),a.append(s),void(S=s)):(u(t,i),!1)})}function g(){var t=e(window).scrollTop();k=!0,t>0?e("nav.top-bar").addClass("opaque"):e("nav.top-bar").removeClass("opaque"),b.each(function(t){var i=e(this),a=t,s=e(window).scrollTop()+window.innerHeight/3,o=i.offset().top<=s&&i.offset().top+i.height()>=s;if(o){if(y=e(e("#parallax > .content").get(a)),x!=a){var l=e("#dots li").get(a);e("#dots li").removeClass("active"),e(l).addClass("active"),e("#sub-menu li").removeClass("active"),e('#sub-menu a[href="#'+y.attr("id")+'"]').parent().addClass("active"),b.removeClass("active"),e(this).addClass("active")}x=a}}),e("#parallax > .search-button").removeClass("visible"),clearTimeout(w),clearTimeout(C),w=setTimeout(function(){k=!1,C=setTimeout(function(){s()},300)},100)}function f(){var t=e(".parallax-menu .active").index()-1;e(".the-about-content #images .image, img.move-me").each(function(){if(e(this).closest(".content").hasClass("active")){var i=e(this);if(i.hasClass("load-me")){t=0;var a=isElementInViewport(i.closest("li"));if(console.log(a),!a)return}var s=i.data("alt").split(","),o=1e3*s[1],l=1e3*s[2],n=(s[0]==t?"easeOutExpo":"easeInExpo",window.innerWidth*s[0]-window.innerWidth*t);i.stop(!0,!1).delay(l).transition({x:n},2*o)}})}function m(e){var t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;if(t)t.call(e);else if("undefined"!=typeof window.ActiveXObject){var i=new ActiveXObject("WScript.Shell");null!==i&&i.SendKeys("{F11}")}}function v(){e("#forms").css("margin-top",-e("#forms").height()/2)}function p(){var i=e("#register > .the-content"),a=i.height(),l=window.innerHeight-e("#register").position().top-e("#footer").outerHeight()-e("#register .view-other").outerHeight()-40-e(".view-other").outerHeight();l=Math.min(l,a),a>l&&e("#register .the-content").perfectScrollbar(),i.data("height",l).height(0),s(),t(),r(),o(0),d(),h(),c(),g();var n=e("#slide-text");setInterval(function(){var e=n.find(".active"),t=e.next();t.length<=0&&(t=n.find("li").first()),e.removeClass("active"),t.addClass("active")},4e3),e(window).scrollTop(0),e(window).scroll(function(e){g()}),e(".full-screen").click(function(){var t=e(this);return isFullScreen()?(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),t.removeClass("exit")):(m(document.body),t.addClass("exit")),!1})}var w,C,b=e("#parallax .content"),x=0,y=e("#parallax > .content").first(),k=!1,T=!1,H=0,I=150,S=null;e("#dots li").click(function(){var t=e("#parallax .content").get(e(this).index()),i=e(t).offset().top,a=i-e("#sub-menu").outerHeight()-e("nav.top-bar").outerHeight();e("html, body").stop(!0,!1).animate({scrollTop:a},1e3,"easeInExpo",function(){(1==x||y.hasClass("has-parallax"))&&(f(),e(".parallax-menu .submenu li.active a").trigger("click"))})}),e(window).resize(function(){t(),r(),d(),e("#dots li.active").trigger("click")}),e(".translate-me").mousemove(function(t){var i=t.clientX/window.innerWidth-.5,a=(t.pageY-e(this).offset().top)/window.innerHeight,s=30*-i,o=30*-a;e(this).stop(!0,!1).transition({x:s,y:o},0,"easeOutSine")}),e("#gallery .arrows > .arrow-right").click(function(){e("#gallery .current"),e("#gallery .current").index()}),e("#gallery .arrows > div").click(function(){o(e(this).hasClass("arrow-right")?1:-1)}),e("#gallery .images").mousedown(function(e){T=!0,H=e.clientX}).mouseup(function(e){T=!1}).mousemove(function(t){if(!T)return!1;var i=H-t.clientX;if(Math.abs(i)>10){t.preventDefault();var a=i>0?"right":"left";e("#gallery .arrows .arrow-"+a).trigger("click"),T=!1}return!1}),e("#gallery .images .image, #gallery .images img").on("dragstart",function(e){return e.preventDefault(),!1}),e("body").on("click","#gallery .current, .example-gallery .columns",function(){big=new Image;var t=e(this).find("img").data("big");big.onload=function(){$this=e(this),$this.addClass("big-image current").hide(),e("body").append($this);var t=this._source,i=($this.width(),t.width()/$this.width()),s=t.height()/$this.height();t.hasClass("columns")&&(i=s=0,t=t.find("img")),$this.transition({x:"-50%",y:"-50%",scale:[i,s]},0).data("scale",[i,s]).show(),$this.transition({x:"-50%",y:"-50%",scale:1},"fast","easeOutSine",function(){var t=e(this),i=e(".button-close-me");i.css({left:t.position().left+t.width()-i.outerWidth()-10,top:t.position().top+10}),i.addClass("visible"),a()}),e("#big-shade").fadeIn()},big._source=e(this),big.dataset.id=e(this).find("img").data("id"),big.src=t}),e("#big-shade, body > .button-close-me").click(function(){var t=e(".big-image").data("scale");e("body > .big-image").transition({x:"-50%",y:"-50%",scale:t},"fast",function(){e(".big-image").remove()}),e("#gallery .arrows").fadeIn(),e("#big-shade").fadeOut(),e("#big-controls").removeClass("visible").fadeOut(),e("body > .button-close-me").removeClass("visible")}),e(".read-more").click(function(){var t=e(this).closest(".content"),i=t.find(".more-text");showShade(),i.removeClass("close").addClass("visible")}),e("article.parallax a").click(function(){var t=e(this).attr("href");if(1==e(this).data("popup"))return console.log("pop"),showShade(500,!0),e(e(this).data("id")).addClass("visible"),!1;if("#"==t[0]){var i=e("#dots li.class-"+t.substr(1));return i.trigger("click"),!1}}),e("#big-controls > div").click(function(){var t=e(this),i=e(".big-image.current"),s=i.data("id"),o=e("#gallery .images .image-"+s),l=t.hasClass("arrow-left")?o.prev():o.next();l.length<=0&&t.hasClass("arrow-left")&&(l=o.closest(".images").find(".image").last()),l.length<=0&&!t.hasClass("arrow-left")&&(l=o.closest(".images").find(".image").first()),e("#big-controls").addClass("no-events");var n=new Image,r=l.find("img").data("big");n.onload=function(){var t=e(this);t.addClass("big-image").addClass(this._direction>0?"to-right":"to-left");var i=e(".big-image.current");e("body").append(t),setTimeout(function(e,t,i){t.addClass("animate").addClass(0>e?"to-right":"to-left").removeClass("current"),i.addClass("animate current").removeClass("to-right to-left")},100,this._direction,i,t),setTimeout(function(e){e.remove(),a()},600,i)},n._source=l,n._direction=t.hasClass("arrow-left")?-1:1,n.dataset.id=l.find("img").data("id"),n.src=r}),e("#register .title").click(function(){var t=e(this),i=t.parent().find(".the-content");if(t.parent().toggleClass("open"),"register"==e(this).parent().attr("id")){var a=t.parent().hasClass("open")?i.data("height"):i.find(".gform_heading").outerHeight()+6;e("#register").hasClass("open")?n():l(),i.height(a)}}),e("#about .parallax-menu a, #map").click(function(){var t=e(this);if(t.data("darker")?e(".parallax .shadow").addClass("darker"):e(".parallax .shadow").removeClass("darker"),1==t.data("map")){var i=e("#mapholder");if(!i.data("initialized")){var a=e("#location-map .the-list").outerHeight(),s=e("#location-map").height();e("#location-map #mapholder").height(s-a)}return e("#location-map").addClass("visible"),showShade(600,!0),setTimeout(function(){i.data("initialized")?i.fadeIn("fast"):(vmap(i.data("latitude"),i.data("longitude"),e("#mapholder").next(".map-info")),i.data("initialized",1))},600,i),!1}var o=e(this).parent().index()-1,l=e("#about .slides .slide").get(o),n=l.offsetLeft;return e(".show-me .animate-me").removeClass("show"),e("#about .slides").stop(!0,!1).transition({x:-n},1e3,"easeInExpo",function(){setTimeout(function(){animateVisibleContent()},100)}),e(".parallax-menu li").removeClass("active"),t.parent().addClass("active"),f(),!1}),e("body").on("click",".slide .dots li",function(){var t=e(this),i=t.closest(".slide").find(".scrollable"),a=t.parent(),s=t.index(),o=a.data("cpp"),l=t.index()*o,n=t.index(),r=a.find(".active").index(),d=i.find("> .columns");d.each(function(t){var i=100*(t+1),a=e(this),d=t;if(r>n){var c=r*o+1;d=c-t}d*=200,t>=l&&(i=l+o>t?100*o*s:0,t>=0&&o>t&&(i=0)),a.delay(d).stop(!0,!1).transition({x:-i+"%",marginLeft:0},1e3,"easeInOutExpo")}),a.find("li").removeClass("active"),t.addClass("active")}),e('#contact input[type="text"], #contact input[type="email"], #contact input[type="tel"], #contact textarea').focusin(function(){e(this).closest("li").find("label").addClass("focused")}).focusout(function(){e(this).val().length||e(this).closest("li").find("label").removeClass("focused")});e(".pager li, .pager-arrows .arrow").click(function(){var t=e(this),i=t.index();if(t.find(".arrows").stop(!0,!1).fadeIn(),t.hasClass("arrow")){var a=t.hasClass("arrow-left")?-1:1;i=e(".pager li.active").index()+a}0>=i&&(i=0,e(".page-arrows .arrow-left").stop(!0,!1).fadeOut()),i>=e(".pager li").length&&(i=e(".pager li").length-1,e(".page-arrows .arrow-right").stop(!0,!1).fadeOut());var s=e(".pager li").get(i);e(".pager li").removeClass("active"),e(s).addClass("active"),e(".keyfacts .scrollable .page").each(function(t){var a=e(this);a.removeClass("to-screen from-screen").addClass("show"),i>t&&a.addClass("from-screen").removeClass("show"),t>i&&a.addClass("to-screen").removeClass("show")})}),e("table.facilities td").mouseenter(function(t){var i=e(this),a=this.dataset.src;if(""===a)return void e(".parallax .shadow").removeClass("lighter");if(e("#image-tip").hide(),e("#video-tip").hide(),1==i.data("video")){var s=document.getElementById("video-tip"),o=e("#facilities-tooltip video source");o.length<=0&&(o=e("<source>"),e("#facilities-tooltip video").append(o));var l=o.attr("src");a!=l?(o.attr("src",a).attr("type","video/mp4"),s.onloadeddata=function(){s.currentTime=0,s.play()}):s.play(),s.style.display="block"}else{var n=e("#image-tip");n.attr("src",a),n.show()}var r=t.pageX+30,d=t.pageY-e("#facilities-tooltip").height()+20;e("#facilities-tooltip").stop(!0,!1).addClass("visible").css({left:r,top:d}).show()}).mousemove(function(t){if(e("#facilities-tooltip").hasClass("visible")){var i=t.pageX+30,a=t.pageY-e("#facilities-tooltip").height()+20;e("#facilities-tooltip").css({left:i,top:a}).show()}}).mouseleave(function(){e("#facilities-bg img").removeClass("visible"),e(".parallax .shadow").removeClass("lighter"),e("#facilities-tooltip").removeClass("visible").hide(),setTimeout(function(){if(!e("#facilities-tooltip").hasClass("visible")){var t=document.getElementById("video-tip");t.pause(),t.currentTime=0}},100),e("#facilities-bg img").stop(!0,!1).transition({opacity:0,scale:1},400)}),e(".the-strips li").mouseenter(function(){e("#bg img").removeClass("active"),e("#bg ."+e(this).data("image")).addClass("active")}),e("#change-view li").click(function(){var t=e(this).data("id"),i=e(t);e("#change-view li").removeClass("current"),e(this).addClass("current"),e("#devview > div, #myDiv-fluidwidth").hide(),i.show(),i.data("map")&&!i.data("initialized")&&(initGMap("mapview",i.data("lat"),i.data("lon"),!0,!1),i.data("initialized",1))}),e(document).ready(function(){setTimeout(function(){e("#register").length>0&&p()},500)}),e(window).load(function(){v(),setTimeout(function(){e("#vertical-boxes .box1").transition({x:"-100%"}),e("#vertical-boxes .box2").transition({x:"100%"}),e("#loadingText").removeClass("show").addClass("to-screen"),e(".parallax .shadow").addClass("visible"),e("#register").addClass("visible"),setTimeout(function(){e("#parallax").find("#home .text").addClass("visible")},800)},200)}),document.addEventListener("keydown",function(t){13==t.keyCode&&e(".full-screen").removeClass("exit")},!1),e(document).ready(function(){e(".toggle-radio").click(function(){if(!e(".radio-would").is(":visible")){e(this).text("I would like to:").addClass("no-arrow"),e(".radio-would").slideDown(400);var t=window.innerHeight-e("#register").position().top-e("#footer").outerHeight()-e("#register .view-other").outerHeight()-65-e(".view-other").outerHeight(),i=setInterval(function(){var i=e(".the-content").data("height")+e(".radio-would").height()+5;i>t&&(i=t),console.log("Max",t),e(".the-content").height(i)},50);e(".radio-would").promise().done(function(){clearInterval(i),setTimeout(function(){e(".the-content").data("height",e(".the-content").height()),e("#register .the-content").hasClass("ps-container")?e("#register .the-content").perfectScrollbar("update"):e("#register .the-content").perfectScrollbar()},500)})}}),e("#gform_14").find("input, select, textarea").focus(function(){}),e(".property-worth .title").click(function(){e(".stamp-duty").hasClass("open")&&e(".stamp-duty").toggleClass("open").find(".form-content").slideUp(),e(this).parent().toggleClass("open").find(".form-content").slideToggle()}),e(".stamp-duty .title").click(function(){e(".property-worth").hasClass("open")&&e(".property-worth").toggleClass("open").find(".form-content").slideUp(),e(this).parent().toggleClass("open").find(".form-content").slideToggle()})}),e("#history .the-strips").scroll(function(){f()})}(jQuery);