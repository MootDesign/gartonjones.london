var $e;!function(e){"use strict";function t(){w=window.innerHeight-e("nav.top-bar").outerHeight()-e("#footer").outerHeight(),e("#main-parallax div.content").height(w)}function a(){e("#gallery .arrows").fadeOut();var t=e("#big-controls"),i=e(".big-image.current").width();t.width(i+200).removeClass("no-events").addClass("visible").fadeIn()}function s(){x||(0===C?e("#register").hasClass("open")||e(".parallax #register .title").first().trigger("click"):e("#register").hasClass("open")&&e(".parallax #register .title").first().trigger("click"),e("#backtop").removeClass("visible"),C==e("#main-parallax > .content").length-1||b.hasClass("no-title")?(e("#register").removeClass("visible open"),e(".view-other").removeClass("visible"),e("#backtop").addClass("visible"),e(".the-title").fadeOut()):(e("#register").addClass("visible"),e(".view-other").addClass("visible"),e(".the-title").fadeIn()),b.hasClass("no-backtop")&&e("#backtop").removeClass("visible"),b.hasClass("show-filters")?e("#change-view").addClass("visible"):e("#change-view").removeClass("visible"),e(".parallax .content.active").hasClass("no-search")||C>0&&e("#main-parallax > .search-button").addClass("visible"))}function o(t){var i=e("#gallery .images .current"),a=i.index()+t;a>=e("#gallery .images .image").length&&(a=0),e("#gallery .images .image").each(function(){var t=e(this);t.removeClass(function(e,t){return(t.match(/\b(before-|after-)\S+/g)||[]).join(" ")}).removeClass("current before after");var i=t.index()-a;if(Math.abs(i)>3){var s=i>0?-1:1;i=e("#gallery .images .image").length+i*s,i*=s}var o=0>i?"before before-":"after after-";0===i&&(o="current id-"),t.addClass(o+Math.abs(i))}),e("#image-desc li").removeClass("active");var s=e("#image-desc li").get(a);e(s).addClass("active")}function n(){e("#gallery .images .image").removeClass("hidden"),e("#gallery .arrows").removeClass("single")}function r(){e("#gallery .images .image").addClass("hidden"),e("#gallery .arrows").addClass("single")}function l(){var t=16/9;e("#gallery .image").height(e("#gallery .current").width()/t);var i=(e("#gallery .current").width()-e("#gallery .images").width())/2,a=(e("#gallery .current").height()-e("#gallery .images").height())/2;e("#gallery .image").css({marginLeft:i,top:-a})}function c(){if(e("#about .slides")){var t=0;e("#about .slides .slide").each(function(){t+=e(this).width()}),e("#about .slides").width(t+20),e(".the-about-content #images .image, .move-me").each(function(){var t=e(this),i=t.data("alt").split(","),a=window.innerWidth*(i[0]+1);t.transition({x:a,opacity:1},0).data("speed",i[1]).delay(i[2])});var i=e("#about .keyfacts").width(),a=e("#about .keyfacts").height(),s=i/4-20,o=a/4-30;e("#about .facilities img").css({maxWidth:s,maxHeight:o})}}function d(){e(".keyfacts .scrollable").width(getTotalWidth(e(".keyfacts .scrollable .page"))+40),e(".keyfacts .scrollable .page").width(e(".slide .keyfacts").width()),e(".slides .slide-content, .center-me").each(function(){var t=e(this),i=(t.parent().outerHeight()-t.outerHeight())/2,a=e(this).hasClass("text")?35:0;i=Math.max(a,i);var s=e(this).next(".arrows");if(s.length>0){var o=e(this).width()/2;s.find(".arrow-left").transition({x:-o-60},0),s.find(".arrow-right").transition({x:o+30},0),s.find("div").addClass("visible")}t.css({top:i})})}function h(){e(".split-me").each(function(){var t=e(this),a=t.data("columns")||2,s=t.closest(".slide-content").height()-T,o=t.height(),n=t.closest(".scrollable");o>s&&(t.data("max",s),g(t,t.data("class")),t.closest(".columns").remove());var r=n.find("> .columns"),l=(parseInt(r.first().css("padding-left")),r.first().outerWidth()),c=r.first().hasClass("medium-12"),d=c?l:2*l,h=d/2,u=r.length;r.each(function(t){e(this).hasClass("medium-12")&&u++,t>0&&t%a===0&&e(this).addClass("padding")});var f=n.find(".columns.padding"),m=getTotalWidth(r)+T*f.length;n.find("> .columns").each(function(){var t=h;e(this).hasClass("medium-12")&&(t=d),e(this).css({width:t})}),n.width(m+10);var p=Math.ceil(u/a),v=n.closest(".slide").find("ul.dots");for(i=0;i<p;i++){var w=e("<li>");v.append(w)}v.data("cpp",a),v.find("li").first().addClass("active")})}function g(t,i){var a=e("<div>").addClass("columns").addClass(i);t.closest(".scrollable").append(a),H&&("H4"==H.prop("tagName")&&(H.detach(),a.append(H)),H=null),t.find("> div > *").each(function(){var s=e(this),o=s.closest(".split-me").data("max");return s.outerHeight()+a.outerHeight()<=o?(s.detach(),a.append(s),void(H=s)):(g(t,i),!1)})}function u(){var t=e(".parallax-menu .active").index()-1;e(".the-about-content #images .image, img.move-me").each(function(){if(e(this).closest(".content").hasClass("active")){var i=e(this);if(i.hasClass("load-me")){t=0;var a=isElementInViewport(i.closest("li"));if(!a)return}var s=i.data("alt").split(","),o=1e3*s[1],n=1e3*s[2],r=(s[0]==t?"easeOutExpo":"easeInExpo",window.innerWidth*s[0]-window.innerWidth*t);i.stop(!0,!1).delay(n).transition({x:r},2*o)}})}function f(e){var t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;if(t)t.call(e);else if("undefined"!=typeof window.ActiveXObject){var i=new ActiveXObject("WScript.Shell");null!==i&&i.SendKeys("{F11}")}}function m(){e("#forms").css("margin-top",-e("#forms").height()/2)}function p(){var i=e("#register > .the-content"),a=i.height(),n=window.innerHeight-e("#register").position().top-e("#footer").outerHeight()-e("#register .view-other").outerHeight()-40-e(".view-other").outerHeight();n=Math.min(n,a),a>n&&e("#register .the-content").perfectScrollbar(),e("#worth-popup").hasClass("visible")&&(e("#worth-popup").css({marginLeft:-e("#worth-popup").outerWidth()/2,marginTop:-e("#worth-popup").outerHeight()/2}),e("#worth-popup .gform_wrapper form").height(e("#worth-popup").height()),e("#worth-popup .gform_wrapper form").perfectScrollbar(),showShade(0,!0)),i.data("height",n).height(0),s(),t(),l(),o(0),c(),h(),d();var r=e("#slide-text");setInterval(function(){var e=r.find(".active"),t=e.next();t.length<=0&&(t=r.find("li").first()),e.removeClass("active"),t.addClass("active")},4e3),e(window).scrollTop(0),e("#main-parallax").scroll(function(e){}),e(".full-screen").click(function(){var t=e(this);return isFullScreen()?(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),t.removeClass("exit")):(f(document.body),t.addClass("exit")),!1})}var v,w,C=(e("#main-parallax .content"),0),b=e("#main-parallax > .content").first(),x=!1,y=!1,k=0,T=150,H=null;e("#dots li").click(function(){C=e(this).index(),b=e(e("#main-parallax .content").get(e(this).index()));var t=e(this).index(),i=w*t;e("#main-parallax").stop(!0,!1).transition({y:-i},1e3,"easeInExpo",function(){if((1==C||b.hasClass("has-parallax"))&&(setTimeout(function(){u()},200),e(".parallax-menu .submenu li.active a").trigger("click")),void 0!==v){var t=e(".the-strips ."+v),i=t.position().top;t.closest(".the-strips").delay(100).animate({scrollTop:i})}v=void 0,s()})}),e(window).resize(function(){t(),l(),c(),e("#dots li.active").trigger("click")}),e(".translate-me").mousemove(function(t){var i=t.clientX/window.innerWidth-.5,a=(t.pageY-e(this).offset().top)/window.innerHeight,s=30*-i,o=30*-a;e(this).stop(!0,!1).transition({x:s,y:o},0,"easeOutSine")}),e("#gallery .arrows > .arrow-right").click(function(){e("#gallery .current"),e("#gallery .current").index()}),e("#gallery .arrows > div").click(function(){o(e(this).hasClass("arrow-right")?1:-1)}),e("#gallery .images").mousedown(function(e){y=!0,k=e.clientX}).mouseup(function(e){y=!1}).mousemove(function(t){if(!y)return!1;var i=k-t.clientX;if(Math.abs(i)>10){t.preventDefault();var a=i>0?"right":"left";e("#gallery .arrows .arrow-"+a).trigger("click"),y=!1}return!1}),e("#gallery .images .image, #gallery .images img").on("dragstart",function(e){return e.preventDefault(),!1}),e("body").on("click","#gallery .current, .example-gallery .columns",function(){big=new Image;var t=e(this).find("img").data("big");big.onload=function(){$this=e(this),$this.addClass("big-image current").hide(),e("body").append($this);var t=this._source,i=($this.width(),t.width()/$this.width()),s=t.height()/$this.height();t.hasClass("columns")&&(i=s=0,t=t.find("img")),$this.transition({x:"-50%",y:"-50%",scale:[i,s]},0).data("scale",[i,s]).show(),$this.transition({x:"-50%",y:"-50%",scale:1},"fast","easeOutSine",function(){var t=e(this),i=e(".button-close-me");i.css({left:t.position().left+t.width()-i.outerWidth()-10,top:t.position().top+10}),i.addClass("visible"),a()}),e("#big-shade").fadeIn()},big._source=e(this),big.dataset.id=e(this).find("img").data("id"),big.src=t}),e("#big-shade, body > .button-close-me").click(function(){var t=e(".big-image").data("scale");e("body > .big-image").transition({x:"-50%",y:"-50%",scale:t},"fast",function(){e(".big-image").remove()}),e("#gallery .arrows").fadeIn(),e("#big-shade").fadeOut(),e("#big-controls").removeClass("visible").fadeOut(),e("body > .button-close-me").removeClass("visible")}),e(".read-more").click(function(){var t=e(this).closest(".content"),i=t.find(".more-text");showShade(),i.removeClass("close").addClass("visible")}),e("article.parallax a").click(function(){var t=e(this).attr("href");if(1==e(this).data("popup")){showShade(500,!0);var i=e(e(this).data("id"));if(i.data("center")&&i.css({marginLeft:-i.outerWidth()/2,marginTop:-i.outerHeight()/2}),i.addClass("visible"),i.find("video")){var a=i.find("video").get();a[0].play()}return!1}if("#"==t[0]){var s=e("#dots li.class-"+t.substr(1));return s.trigger("click"),e(this).data("scroll")&&(v=e(this).data("scroll")),!1}}),e("#big-controls > div").click(function(){var t=e(this),i=e(".big-image.current"),s=i.data("id"),o=e("#gallery .images .image-"+s),n=t.hasClass("arrow-left")?o.prev():o.next();n.length<=0&&t.hasClass("arrow-left")&&(n=o.closest(".images").find(".image").last()),n.length<=0&&!t.hasClass("arrow-left")&&(n=o.closest(".images").find(".image").first()),e("#big-controls").addClass("no-events");var r=new Image,l=n.find("img").data("big");r.onload=function(){var t=e(this);t.addClass("big-image").addClass(this._direction>0?"to-right":"to-left");var i=e(".big-image.current");e("body").append(t),setTimeout(function(e,t,i){t.addClass("animate").addClass(0>e?"to-right":"to-left").removeClass("current"),i.addClass("animate current").removeClass("to-right to-left")},100,this._direction,i,t),setTimeout(function(e){e.remove(),a()},600,i)},r._source=n,r._direction=t.hasClass("arrow-left")?-1:1,r.dataset.id=n.find("img").data("id"),r.src=l}),e("#register .title").click(function(){var t=e(this),i=t.parent().find(".the-content");if(t.parent().toggleClass("open"),"register"==e(this).parent().attr("id")){var a=t.parent().hasClass("open")?i.data("height"):i.find("h3").outerHeight()+6;e("#register").hasClass("open")?r():n(),i.height(a)}}),e("#about .parallax-menu a, #map").click(function(){var t=e(this);if(t.data("darker")?e(".parallax .shadow").addClass("darker"):e(".parallax .shadow").removeClass("darker"),1==t.data("map")){var i=e("#mapholder");if(!i.data("initialized")){var a=e("#location-map .the-list").outerHeight(),s=e("#location-map").height();e("#location-map #mapholder").height(s-a)}return e("#location-map").addClass("visible"),showShade(600,!0),setTimeout(function(){i.data("initialized")?i.fadeIn("fast"):(vmap(i.data("latitude"),i.data("longitude"),e("#mapholder").next(".map-info")),i.data("initialized",1))},600,i),!1}var o=e(this).parent().index()-1,n=e("#about .slides .slide").get(o),r=n.offsetLeft;return e(".show-me .animate-me").removeClass("show"),e("#about .slides").stop(!0,!1).transition({x:-r},1e3,"easeInExpo",function(){setTimeout(function(){animateVisibleContent()},100)}),e(".parallax-menu li").removeClass("active"),t.parent().addClass("active"),u(),!1}),e("body").on("click",".slide .dots li",function(){var t=e(this),i=t.closest(".slide").find(".scrollable"),a=t.parent(),s=t.index(),o=a.data("cpp"),n=t.index()*o,r=t.index(),l=a.find(".active").index(),c=i.find("> .columns");c.each(function(t){var i=100*(t+1),a=e(this),c=t;if(l>r){var d=l*o+1;c=d-t}c*=200,t>=n&&(i=n+o>t?100*o*s:0,t>=0&&o>t&&(i=0)),a.delay(c).stop(!0,!1).transition({x:-i+"%",marginLeft:0},1e3,"easeInOutExpo")}),a.find("li").removeClass("active"),t.addClass("active")}),e('#contact input[type="text"], #contact input[type="email"], #contact input[type="tel"], #contact textarea').focusin(function(){e(this).closest("li").find("label").addClass("focused")}).focusout(function(){e(this).val().length||e(this).closest("li").find("label").removeClass("focused")});e(".pager li, .pager-arrows .arrow").click(function(){var t=e(this),i=t.index();if(t.find(".arrows").stop(!0,!1).fadeIn(),t.hasClass("arrow")){var a=t.hasClass("arrow-left")?-1:1;i=e(".pager li.active").index()+a}0>=i&&(i=0,e(".page-arrows .arrow-left").stop(!0,!1).fadeOut()),i>=e(".pager li").length&&(i=e(".pager li").length-1,e(".page-arrows .arrow-right").stop(!0,!1).fadeOut());var s=e(".pager li").get(i);e(".pager li").removeClass("active"),e(s).addClass("active"),e(".keyfacts .scrollable .page").each(function(t){var a=e(this);a.removeClass("to-screen from-screen").addClass("show"),i>t&&a.addClass("from-screen").removeClass("show"),t>i&&a.addClass("to-screen").removeClass("show")})}),e("table.facilities td").mouseenter(function(t){var i=e(this),a=this.dataset.src;if(""===a)return void e(".parallax .shadow").removeClass("lighter");if(e("#image-tip").hide(),e("#video-tip").hide(),1==i.data("video")){var s=document.getElementById("video-tip"),o=e("#facilities-tooltip video source");o.length<=0&&(o=e("<source>"),e("#facilities-tooltip video").append(o));var n=o.attr("src");a!=n?(o.attr("src",a).attr("type","video/mp4"),s.onloadeddata=function(){s.currentTime=0,s.play()}):s.play(),s.style.display="block"}else{var r=e("#image-tip");r.attr("src",a),r.show()}var l=t.pageX+30,c=t.pageY-e("#facilities-tooltip").height()+20;e("#facilities-tooltip span").html(i.find(".tooltip-text").html()),e("#facilities-tooltip").stop(!0,!1).addClass("visible").css({left:l,top:c}).show()}).mousemove(function(t){if(e("#facilities-tooltip").hasClass("visible")){var i=t.pageX+30,a=t.pageY-e("#facilities-tooltip").height()+20;e("#facilities-tooltip").css({left:i,top:a}).show()}}).mouseleave(function(){e("#facilities-bg img").removeClass("visible"),e(".parallax .shadow").removeClass("lighter"),e("#facilities-tooltip").removeClass("visible").hide(),setTimeout(function(){if(!e("#facilities-tooltip").hasClass("visible")){var t=document.getElementById("video-tip");t.pause(),t.currentTime=0}},100),e("#facilities-bg img").stop(!0,!1).transition({opacity:0,scale:1},400)}),e(".the-strips li").mouseenter(function(){e("#bg img").removeClass("active"),e("#bg ."+e(this).data("image")).addClass("active")}),e("#change-view li").click(function(){var t=e(this).data("id"),i=e(t);e("#change-view li").removeClass("current"),e(this).addClass("current"),e("#devview > div, #myDiv-fluidwidth").hide(),i.show(),i.data("map")&&!i.data("initialized")&&(initGMap("mapview",i.data("lat"),i.data("lon"),!0,!0),i.data("initialized",1))}),e(document).ready(function(){setTimeout(function(){e("#register").length>0&&p()},500)}),e(window).load(function(){m(),setTimeout(function(){e("#vertical-boxes .box1").transition({x:"-100%"}),e("#vertical-boxes .box2").transition({x:"100%"}),e("#loadingText").removeClass("show").addClass("to-screen"),e(".parallax .shadow").addClass("visible"),e("#register").addClass("visible"),setTimeout(function(){e("#main-parallax").find("#home .text").addClass("visible")},800)},200)}),document.addEventListener("keydown",function(t){13==t.keyCode&&e(".full-screen").removeClass("exit")},!1),e(document).ready(function(){var t=!0;e(".toggle-radio").click(function(){if(t&&(e(".the-content").data("original-height",e(".the-content").height()),t=!1),e(".radio-would").is(":visible"))e(this).text("Show More"),e(".the-content").height(e(".the-content").data("original-height")),e(".radio-would").slideToggle(400);else{e(this).text("Show Less"),e(".radio-would").slideToggle(400);var i=window.innerHeight-e("#register").position().top-e("#footer").outerHeight()-e("#register .view-other").outerHeight()-65-e(".view-other").outerHeight(),a=setInterval(function(){var t=e(".the-content").data("height")+e(".radio-would").height()+5;t>i&&(t=i),e(".the-content").height(t)},50)}e(".radio-would").promise().done(function(){clearInterval(a),setTimeout(function(){e(".the-content").data("height",e(".the-content").height()),e("#register .the-content").hasClass("ps-container")?e("#register .the-content").perfectScrollbar("update"):e("#register .the-content").perfectScrollbar()},500)})}),e("#gform_14").find("input, select, textarea").focus(function(){}),e(".property-worth .title").click(function(){e(".stamp-duty").hasClass("open")&&e(".stamp-duty").toggleClass("open").find(".form-content").slideUp(),e(this).parent().toggleClass("open").find(".form-content").slideToggle()}),e(".stamp-duty .title").click(function(){e(".property-worth").hasClass("open")&&e(".property-worth").toggleClass("open").find(".form-content").slideUp(),e(this).parent().toggleClass("open").find(".form-content").slideToggle()})}),e("#history .the-strips").scroll(function(){u()}),jQuery(document).ready(function(e){document.getElementById("calcprice").onclick=function(){var e,t,a=document.getElementById("price_house").value,s=new RegExp(" ","g"),o=a.replace(s,""),n=o.replace(/[&\/\\#,+()$~%.'":*?<>{}A-Za-z£$]/g,""),r=parseInt(n);125000.01>=r?e=0:r>125000.01&&25e4>=r?e=.02*(r-125e3):r>=250000.01&&925e3>=r?e=.05*(r-25e4)+2500:r>=925000.01&&15e5>=r?e=.1*(r-925e3)+36250:r>=1500000.01&&(e=.12*(r-15e5)+93750);var l=e.toFixed(2),c="";t=!1;var d=l.length;for(i=0;i<l.length;i++)8==d?c+=2===i?","+l[i]:l[i]:9==d?c+=3===i?","+l[i]:l[i]:("."===l[i]&&(t=!0),c+=i%3===1&&t===!1?","+l[i]:i%3!==1&&t===!1?l[i]:l[i]);document.getElementById("result").innerHTML="£ "+c}}),e("#filter-view ul a").click(function(){e("#filter-view ul a").removeClass("active"),e(this).addClass("active");var t=e(this).data("category");e("#devview .the-strips li").each(function(){var i=e(this),a=i.data("height"),s=1;i.data("height")||(a=i.outerHeight(),i.data("height",a)),""!==t&&i.data("category")!=t?(a=0,s=0):i.show(),i.stop(!0,!1).animate({height:a,opacity:s},"slow",function(){0===i.height()&&i.hide()})})}),e("#parallax").on("finishedMove",function(t){1==para.currentSlideI&&setTimeout(function(){if(!e("article .main").hasClass("visible")){var t=new TimelineLite,i=e("article .main span");e("article .main").addClass("visible"),t.staggerFrom(i,.6,{opacity:0,scale:0,y:80,rotationX:90,transformOrigin:"left center",ease:Back.easeOut},.005,"+=0")}},100)}),e(document).ready(function(){})}(jQuery);